{"request_id": "48befdde-1af7-4f8e-bb1b-9bf068581275", "client_ip": "127.0.0.1", "timestamp": "2025-06-17T09:12:09.174394", "status": "success", "original_question": "Tickets abiertos", "enhanced_question": "Entiendo. ¿Podrías decirme cuántos tickets están actualmente abiertos?", "flow": "", "generated_sql": "SELECT\n  COUNT(*)\nFROM ft_tickets_ia\nWHERE\n  estatus_ticket <> 'CANCELADO' AND fecha_cierre IS NULL", "result": {"columns": ["count"], "rows": [[140]]}, "model": "", "domain": "tickets", "duration": 3.13, "tags": []}
{"request_id": "fa05e2d8-4237-47a0-915b-910abdad3eb0", "client_ip": "127.0.0.1", "timestamp": "2025-06-17T09:29:37.039355", "status": "success", "original_question": "Tickets abiertos", "enhanced_question": "Entiendo. ¿Podrías decirme cuántos tickets están actualmente abiertos?", "flow": "", "generated_sql": "SELECT\n  COUNT(*)\nFROM ft_tickets_ia\nWHERE\n  NOT estatus_ticket IN ('ATENDIDO', 'CANCELADO') AND fecha_cierre IS NULL", "result": {"columns": ["count"], "rows": [[135]]}, "model": "", "domain": "tickets", "duration": 3.47, "tags": []}
{"request_id": "584f6daa-5752-403a-99bf-081b092bd564", "client_ip": "127.0.0.1", "timestamp": "2025-06-17T10:24:46.721444", "status": "success", "original_question": "¿Entrégame un comportamiento general de los ticket en el 2024?", "enhanced_question": "¿Podrías mostrarme la cantidad de tickets que se crearon cada mes durante el año 2024?", "flow": "1. Filtra los registros para obtener sólo las entradas correspondientes al año 2024.\n2. Agrupa los resultados según el mes en que se registró cada ticket.\n3. Conta el número de elementos en cada grupo para obtener la cantidad de tickets creados en cada mes.", "generated_sql": "SELECT\n  anio_registro AS year,\n  mes_registro AS month,\n  COUNT(*) AS count\nFROM ft_tickets_ia\nWHERE\n  anio_registro = 2024\nGROUP BY\n  anio_registro,\n  mes_registro", "result": {"columns": ["year", "month", "count"], "rows": [[2024.0, 3.0, 1521], [2024.0, 4.0, 2345], [2024.0, 1.0, 1783], [2024.0, 9.0, 1842], [2024.0, 6.0, 2080], [2024.0, 8.0, 2211], [2024.0, 7.0, 2553], [2024.0, 2.0, 1885], [2024.0, 5.0, 2352], [2024.0, 12.0, 1872], [2024.0, 11.0, 2303], [2024.0, 10.0, 2276]]}, "model": "", "domain": "tickets", "duration": 6.32, "tags": []}
{"request_id": "48344481-cbde-4552-8921-dae0a8903d67", "client_ip": "127.0.0.1", "timestamp": "2025-06-17T10:26:32.543825", "status": "success", "original_question": "¿Entrégame un comportamiento general de los ticket en el 2024?", "enhanced_question": "¿Podrías mostrarme la cantidad de tickets que se crearon cada mes durante el año 2024?", "flow": "1. Filtra los registros para obtener sólo las entradas correspondientes al año 2024.\n2. Agrupa los resultados según el mes en que se registró cada ticket.\n3. Conta el número de elementos en cada grupo para obtener la cantidad de tickets creados en cada mes.", "generated_sql": "SELECT\n  anio_registro AS year,\n  mes_registro AS month,\n  COUNT(*) AS count\nFROM ft_tickets_ia\nWHERE\n  anio_registro = 2024\nGROUP BY\n  anio_registro,\n  mes_registro", "result": {"columns": ["year", "month", "count"], "rows": [[2024.0, 3.0, 1521], [2024.0, 4.0, 2345], [2024.0, 1.0, 1783], [2024.0, 9.0, 1842], [2024.0, 6.0, 2080], [2024.0, 8.0, 2211], [2024.0, 7.0, 2553], [2024.0, 2.0, 1885], [2024.0, 5.0, 2352], [2024.0, 12.0, 1872], [2024.0, 11.0, 2303], [2024.0, 10.0, 2276]]}, "model": "", "domain": "tickets", "duration": 6.33, "tags": []}
{"request_id": "e2491d33-68ed-4731-b7da-80333578d1dd", "client_ip": "127.0.0.1", "timestamp": "2025-06-17T10:27:16.038167", "status": "success", "original_question": "¿Entrégame un comportamiento general de los ticket en el 2024?", "enhanced_question": "¿Entrégame un comportamiento general de los ticket en el 2024?", "flow": "1. Identificar todos los tickets registrados durante el año 2024.\n2. Contar el número total de tickets identificados.\n3. Calcular la media de tiempo para cerrar cada ticket.\n4. Contar el número de tickets cerrados dentro del plazo de servicio al cliente (SLA).\n5. Calcular el porcentaje de tickets cerrados dentro del plazo de SLA respecto al total de tickets cerrados.\n6. Ordenar los tickets según su fecha de creación en forma descendiente.\n7. Seleccionar los primeros 3 tickets más recientes y mostrar sus detalles completos.\n8. Seleccionar los últimos 5 tickets creados y mostrar sus detalles completos.", "generated_sql": "SELECT\n  *\nFROM (\n  SELECT\n    *,\n    ROW_NUMBER() OVER (ORDER BY fecha_registro DESC) AS row_number\n  FROM ft_tickets_ia\n) AS tickets\nWHERE\n  row_number >= (\n    SELECT\n      COUNT(*)\n    FROM ft_tickets_ia\n  ) - 5", "result": {"columns": ["fecha_registro", "anio_registro", "mes_registro", "fecha_cierre", "estatus_ticket", "folio_ticket", "sistema", "motivo_ticket", "motivo_cierre_ticket", "servicio_cierre_ticket", "centro_trabajo", "ciudad", "empresa", "unidad_negocio", "personal_reporta", "colaborador_asignado", "departamento_colaborador_asignado", "area_colaborador_asignado", "servicio", "tiempo_solucion_total", "tiempo_sla_servicio", "tiempo_atencion", "estatus_atencion", "row_number"], "rows": [["2024-01-02", 2024.0, 1.0, "2024-01-02", "ATENDIDO", 70285, "BUSINESS SUITE DESK", "QUIERO REPORTAR QUE EN MI SISTEMA PARA COTIZAR NO CONTAMOS CON LISTAS DE PRECIOS", "GERENTE DE VENTAS SE CONTACTA CON EL DEPARTAMENTO DE TECNOLOGÍAS DE INFORMACIÓN PARA REVISAR EL TEMA. \r\nLA LISTA DE PRECIOS YA SE ENCONTRABA VENCIDA, SOLICITÓ EXTENDER LA VIGENCIA DE LOS MISMOS. \r\nSE REALIZA CONTACTO CON USUARIO Y CONFIRMA SOLUCIÓN.", "PERMISO DE USUARIO", "PLANTA 2", "QUERETARO", "BENOL BLOQUERA", "CONSTRUCCIÓN", "FRANCISCO BARRANCA OROZCO", "EDUARDO BUZO RAMIREZ", "GESTIÓN DE SERVICIOS TI", "DIVISIÓN REYMA", "PERMISO DE USUARIO", 13.0, 120.0, "7", "TIEMPO", 38674], ["2024-01-02", 2024.0, 1.0, "2024-01-02", "ATENDIDO", 70283, "INNOVAPP", "BUEN DÍA, SE SOLICITA EL APOYO PARA REINICIAR EL PUERTO DONDE SE ENCUENTRA CONECTADA LA SIGUIENTE CÁMARA:\n\nUBICACIÓN: STONE STEEL IRAPUATO\nMAC: E4:30:22:42:E7:57\nIP: 172.30.55.26", "SE PROGRAMARÁ VISITA EN LAS PROXIMAS SEMANAS PARA SU REVISIÓN EN SITIO.", "Orientación de cámara o con obstrucción en visión", "CORPORATIVO", "LEON", "PLASTICOS ADHERIBLES DEL BAJIO, S.A. DE C.V.", "PLÁSTICOS", "LUIS FERNANDO MACIAS LOPEZ", "LUIS FERNANDO MACIAS LOPEZ", "ACCESS CONTROL VIDEO SOLUTIONS", "ACCESS CONTROL VIDEO SOLUTIONS", "Orientación de cámara o con obstrucción en visión", 388.0, 480.0, "240", "FUERA DE TIEMPO", 38675], ["2024-01-02", 2024.0, 1.0, "2024-01-02", "ATENDIDO", 70282, "BUSINESS SUITE DESK", "ME PUEDEN APOYAR, NO ME PUEDO CONECTAR A LA VPN", "SE CONECTA NUEVAMENTE AL EQUIPO Y SE CAMBIA EL SERVIDOR Y CONECTA SIN PROBLEMAS.\r\n\r\nEL USUARIO VALIDA Y FUNCIONA TODO CORRECTAMENTE.", "FALLA SISTEMA OPERATIVO", "PLANTA", "CELAYA", "BENOL CONCRETOS SA DE CV", "CONSTRUCCIÓN", "MOISES AARON LOPEZ RODRIGUEZ", "MARIA DEL CARMEN GAYTAN SOLIS", "PMO", "PMO", "FALLA SISTEMA OPERATIVO", 175.0, 230.0, "67", "TIEMPO", 38676], ["2024-01-02", 2024.0, 1.0, "2024-01-02", "ATENDIDO", 70281, "BUSINESS SUITE DESK", "EL FOLIO #2522621 DE RECOLECION DE PRODUCCION NO PERMITE MOVER AL DIA 29-12-23.\r\nSE SOLICITA EL APOYO PARA MOVER DE DIA.", "SE MUEVE EL ID A LA FECHA SOLICITADA", "MOVER DE FECHA", "PLANTA", "MERIDA", "REYMA DEL SURESTE, S.A. DE C.V.", "PLÁSTICOS", "MIGUEL ALONSO BACAB QUETZAL", "RAUL MARTINEZ TOVAR", "AUDITORIA CORPORATIVA DE OPERACIONES", "AUDITORÍA CORPORATIVA DE OPERACIONES", "MOVER DE FECHA", 18.0, 240.0, "2", "TIEMPO", 38677], ["2024-01-02", 2024.0, 1.0, "2024-01-02", "ATENDIDO", 70280, "BUSINESS SUITE DESK", "BUEN DÍA :)\r\n\r\nSOLICITO DE SU APOYO EN EL AREA DE VASO TERMICO I, PARA MOVER AL DÍA 30 DE DICIEMBRE SALIDA DE PRODUCTO NO CONFORME CON ID.5480307.\r\n\r\nGRACIAS.", "SE MUEVE DE DIA ID.5480307.AL DIA SOLICITADO", "MOVER DE FECHA", "CORPORATIVO", "LEON", "PLASTICOS ADHERIBLES DEL BAJIO, S.A. DE C.V.", "PLÁSTICOS", "CITLALI SOLORIO ARGUELLO", "RAUL MARTINEZ TOVAR", "AUDITORIA CORPORATIVA DE OPERACIONES", "AUDITORÍA CORPORATIVA DE OPERACIONES", "MOVER DE FECHA", 19.0, 240.0, "3", "TIEMPO", 38678], ["2024-01-02", 2024.0, 1.0, "2024-01-02", "ATENDIDO", 70279, "BUSINESS SUITE DESK", "MOVER A LA FECHA 29 DE DICIEMBRE LOS ID 2522756, 2522765, 2522774. ", "SE MUEVEN LOS ID A LA FECHA SOLICITADA", "MOVER DE FECHA", "PLANTA", "CIUDAD SAHAGUN", "REYMA DEL ESTE CENTRAL SA DE CV", "PLÁSTICOS", "MARIA CONCEPCION PALACIOS ISLAS", "RAUL MARTINEZ TOVAR", "AUDITORIA CORPORATIVA DE OPERACIONES", "AUDITORÍA CORPORATIVA DE OPERACIONES", "MOVER DE FECHA", 22.0, 240.0, "2", "TIEMPO", 38679]]}, "model": "", "domain": "tickets", "duration": 26.5, "tags": []}
{"request_id": "597fe02e-6e8f-4b5d-9057-6736e981f7c4", "client_ip": "127.0.0.1", "timestamp": "2025-06-17T10:29:05.231620", "status": "success", "original_question": "¿Entrégame una estadística general de los tickets en el 2024?", "enhanced_question": "¿Entrégame una estadística general de los tickets en el 2024?", "flow": "", "generated_sql": "SELECT\n  EXTRACT(YEAR FROM tks.fecha_registro) AS anio,\n  COUNT(*) FILTER(WHERE\n    tks.estatus_ticket <> 'CANCELADO') AS tickets_registrados,\n  COUNT(*) FILTER(WHERE\n    tks.estatus_ticket = 'ATENDIDO'\n    OR (\n      NOT tks.fecha_cierre IS NULL AND NOT tks.estatus_ticket IN ('CANCELADO')\n    )) AS tickets_atendidos,\n  COUNT(*) FILTER(WHERE\n    NOT tks.estatus_ticket IN ('ATENDIDO', 'CANCELADO') AND tks.fecha_cierre IS NULL) AS tickets_abiertos,\n  COUNT(*) FILTER(WHERE\n    tks.estatus_ticket = 'EN PROCESO' AND tks.fecha_cierre IS NULL) AS tickets_proceso,\n  COUNT(*) FILTER(WHERE\n    tks.estatus_ticket = 'EN PROCESO'\n    AND tks.fecha_cierre IS NULL\n    AND estatus_atencion = 'FUERA DE TIEMPO') AS tickets_fuera_tiempo\nFROM ft_tickets_ia AS tks\nWHERE\n  EXTRACT(YEAR FROM tks.fecha_registro) = 2024\nGROUP BY\n  EXTRACT(YEAR FROM tks.fecha_registro)", "result": {"columns": ["anio", "tickets_registrados", "tickets_atendidos", "tickets_abiertos", "tickets_proceso", "tickets_fuera_tiempo"], "rows": [["2024", 22412, 22409, 3, 3, 3]]}, "model": "", "domain": "tickets", "duration": 7.91, "tags": []}
{"request_id": "ea620915-6676-4055-9eaf-164f2ce37304", "client_ip": "127.0.0.1", "timestamp": "2025-06-17T10:29:41.020051", "status": "success", "original_question": "¿Cual fue el comportamiento general de los tickets en el 2025?", "enhanced_question": "¿Cual fue el comportamiento general de los tickets en el 2025?", "flow": "", "generated_sql": "SELECT\n  EXTRACT(YEAR FROM tks.fecha_registro) AS anio,\n  COUNT(*) FILTER(WHERE\n    tks.estatus_ticket <> 'CANCELADO') AS tickets_registrados,\n  COUNT(*) FILTER(WHERE\n    tks.estatus_ticket = 'ATENDIDO'\n    OR (\n      NOT tks.fecha_cierre IS NULL AND NOT tks.estatus_ticket IN ('CANCELADO')\n    )) AS tickets_atendidos,\n  COUNT(*) FILTER(WHERE\n    NOT tks.estatus_ticket IN ('ATENDIDO', 'CANCELADO') AND tks.fecha_cierre IS NULL) AS tickets_abiertos,\n  COUNT(*) FILTER(WHERE\n    tks.estatus_ticket = 'EN PROCESO' AND tks.fecha_cierre IS NULL) AS tickets_proceso,\n  COUNT(*) FILTER(WHERE\n    tks.estatus_ticket = 'EN PROCESO'\n    AND tks.fecha_cierre IS NULL\n    AND estatus_atencion = 'FUERA DE TIEMPO') AS tickets_fuera_tiempo\nFROM ft_tickets_ia AS tks\nWHERE\n  EXTRACT(YEAR FROM tks.fecha_registro) = 2025\nGROUP BY\n  EXTRACT(YEAR FROM tks.fecha_registro)", "result": {"columns": ["anio", "tickets_registrados", "tickets_atendidos", "tickets_abiertos", "tickets_proceso", "tickets_fuera_tiempo"], "rows": [["2025", 12511, 12379, 132, 120, 69]]}, "model": "", "domain": "tickets", "duration": 7.77, "tags": []}
{"request_id": "3c0734f2-1d4d-45d4-8d65-467fa918e858", "client_ip": "127.0.0.1", "timestamp": "2025-06-17T10:30:23.707567", "status": "success", "original_question": "¿Cual fue el comportamiento general de los tickets en el 2025 para cada departamento?", "enhanced_question": "¿Cual fue el comportamiento general de los tickets en el 2025 para cada departamento?", "flow": "", "generated_sql": "SELECT\n  EXTRACT(YEAR FROM tks.fecha_registro) AS anio,\n  departamento_colaborador_asignado,\n  COUNT(*) FILTER(WHERE\n    tks.estatus_ticket <> 'CANCELADO') AS tickets_registrados,\n  COUNT(*) FILTER(WHERE\n    tks.estatus_ticket = 'ATENDIDO'\n    OR (\n      NOT tks.fecha_cierre IS NULL AND NOT tks.estatus_ticket IN ('CANCELADO')\n    )) AS tickets_atendidos,\n  COUNT(*) FILTER(WHERE\n    NOT tks.estatus_ticket IN ('ATENDIDO', 'CANCELADO') AND tks.fecha_cierre IS NULL) AS tickets_abiertos,\n  COUNT(*) FILTER(WHERE\n    tks.estatus_ticket = 'EN PROCESO' AND tks.fecha_cierre IS NULL) AS tickets_proceso,\n  COUNT(*) FILTER(WHERE\n    tks.estatus_ticket = 'EN PROCESO'\n    AND tks.fecha_cierre IS NULL\n    AND estatus_atencion = 'FUERA DE TIEMPO') AS tickets_fuera_tiempo\nFROM ft_tickets_ia AS tks\nWHERE\n  EXTRACT(YEAR FROM tks.fecha_registro) = 2025\nGROUP BY\n  EXTRACT(YEAR FROM tks.fecha_registro),\n  departamento_colaborador_asignado", "result": {"columns": ["anio", "departamento_colaborador_asignado", "tickets_registrados", "tickets_atendidos", "tickets_abiertos", "tickets_proceso", "tickets_fuera_tiempo"], "rows": [["2025", "ACCESS CONTROL VIDEO SOLUTIONS", 139, 136, 3, 3, 3], ["2025", "ADMINISTRACIÓN I&N", 667, 647, 20, 20, 9], ["2025", "ANALISTA DE NEGOCIOS", 5, 5, 0, 0, 0], ["2025", "AUDITORÍA CORPORATIVA DE OPERACIONES", 1800, 1799, 1, 1, 1], ["2025", "AUDITORÍA CORPORATIVA DE VENTAS", 107, 106, 1, 1, 1], ["2025", "CIBERSEGURIDAD", 494, 493, 1, 1, 0], ["2025", "COMUNICACIONES Y CIBERSEGURIDAD", 257, 256, 1, 1, 1], ["2025", "DESARROLLO", 38, 37, 1, 1, 1], ["2025", "GESTIÓN DE SERVICIOS TI", 5958, 5867, 91, 88, 54], ["2025", "INFRAESTRUCTURA", 13, 13, 0, 0, 0], ["2025", "INTELIGENCIA EMPRESARIAL", 24, 24, 0, 0, 0], ["2025", "PMO", 377, 377, 0, 0, 0], ["2025", "PROCESOS DE INNOVACIÓN", 425, 425, 0, 0, 0], ["2025", "REDES Y TELECOMUNICACIONES", 761, 760, 1, 1, 1], ["2025", "SERVIDORES Y PLATAFORMAS", 1443, 1439, 4, 4, 3], ["2025", null, 7, 0, 7, 0, 0]]}, "model": "", "domain": "tickets", "duration": 9.99, "tags": []}
{"request_id": "b769ef57-f5e1-4ba0-81b3-6132ec773abf", "client_ip": "127.0.0.1", "timestamp": "2025-06-17T11:02:01.634901", "status": "success", "original_question": "¿Cual fue el comportamiento general de los tickets en el 2025 para cada departamento?", "enhanced_question": "¿Podrías mostrarme la cantidad de tickets por departamento a lo largo del año 2025?", "flow": "1. Filtra todos los tickets registrados durante el año 2025.\n2. Agrupa los tickets según su respectivo departamento.\n3. Contabiliza la cantidad de tickets para cada grupo obtenido.\n4. Ordena los resultados por el número de tickets en forma descendiente.", "generated_sql": "SELECT\n  departamento_colaborador_asignado,\n  COUNT(*) AS cantidad_tickets\nFROM ft_tickets_ia\nWHERE\n  anio_registro = 2025\nGROUP BY\n  departamento_colaborador_asignado\nORDER BY\n  cantidad_tickets DESC", "result": {"columns": ["departamento_colaborador_asignado", "cantidad_tickets"], "rows": [["GESTIÓN DE SERVICIOS TI", 6703], ["AUDITORÍA CORPORATIVA DE OPERACIONES", 1806], ["SERVIDORES Y PLATAFORMAS", 1449], ["REDES Y TELECOMUNICACIONES", 775], ["ADMINISTRACIÓN I&N", 669], ["CIBERSEGURIDAD", 497], ["PROCESOS DE INNOVACIÓN", 425], ["PMO", 421], [null, 343], ["COMUNICACIONES Y CIBERSEGURIDAD", 261], ["ACCESS CONTROL VIDEO SOLUTIONS", 140], ["AUDITORÍA CORPORATIVA DE VENTAS", 107], ["DESARROLLO", 38], ["INTELIGENCIA EMPRESARIAL", 24], ["INFRAESTRUCTURA", 13], ["ANALISTA DE NEGOCIOS", 5]]}, "model": "", "domain": "tickets", "duration": 7.53, "tags": []}
{"request_id": "03341a1d-49bb-4107-b789-0750cebaadd2", "client_ip": "127.0.0.1", "timestamp": "2025-06-17T13:33:02.950466", "status": "success", "original_question": "Tickets abiertos", "enhanced_question": "Cuenta el número total de tickets abiertos.", "flow": "", "generated_sql": "SELECT\n  COUNT(*)\nFROM ft_tickets_ia\nWHERE\n  NOT estatus_ticket IN ('ATENDIDO', 'CANCELADO') AND fecha_cierre IS NULL", "result": {"columns": ["count"], "rows": [[127]]}, "model": "", "domain": "tickets", "duration": 3.88, "tags": []}
{"request_id": "e1a50e9a-d4aa-4cf2-8c5b-d241007d2559", "client_ip": "127.0.0.1", "timestamp": "2025-06-17T13:33:16.635454", "status": "success", "original_question": "Tickets abiertos", "enhanced_question": "Cuenta el número total de tickets abiertos.", "flow": "", "generated_sql": "SELECT\n  COUNT(*)\nFROM ft_tickets_ia\nWHERE\n  NOT estatus_ticket IN ('ATENDIDO', 'CANCELADO') AND fecha_cierre IS NULL", "result": {"columns": ["count"], "rows": [[127]]}, "model": "", "domain": "tickets", "duration": 3.74, "tags": []}
{"request_id": "b211347f-7e09-41c2-b275-285ac3c7f3f8", "client_ip": "127.0.0.1", "timestamp": "2025-06-17T13:35:02.973032", "status": "success", "original_question": "Me puedes entregar las estadísticas generales de los tickets del 2025?", "enhanced_question": "Muestra las estadísticas generales de los tickets del año 2025.", "flow": "", "generated_sql": "SELECT\n  EXTRACT(YEAR FROM tks.fecha_registro) AS anio,\n  COUNT(*) FILTER(WHERE\n    tks.estatus_ticket <> 'CANCELADO') AS tickets_registrados,\n  COUNT(*) FILTER(WHERE\n    tks.estatus_ticket = 'ATENDIDO'\n    OR (\n      NOT tks.fecha_cierre IS NULL AND NOT tks.estatus_ticket IN ('CANCELADO')\n    )) AS tickets_atendidos,\n  COUNT(*) FILTER(WHERE\n    NOT tks.estatus_ticket IN ('ATENDIDO', 'CANCELADO') AND tks.fecha_cierre IS NULL) AS tickets_abiertos,\n  COUNT(*) FILTER(WHERE\n    tks.estatus_ticket = 'EN PROCESO' AND tks.fecha_cierre IS NULL) AS tickets_proceso,\n  COUNT(*) FILTER(WHERE\n    tks.estatus_ticket = 'EN PROCESO'\n    AND tks.fecha_cierre IS NULL\n    AND tks.estatus_atencion = 'FUERA DE TIEMPO') AS tickets_fuera_tiempo\nFROM ft_tickets_ia AS tks\nWHERE\n  EXTRACT(YEAR FROM tks.fecha_registro) = EXTRACT(YEAR FROM CURRENT_DATE)\nGROUP BY\n  EXTRACT(YEAR FROM tks.fecha_registro)", "result": {"columns": ["anio", "tickets_registrados", "tickets_atendidos", "tickets_abiertos", "tickets_proceso", "tickets_fuera_tiempo"], "rows": [["2025", 12566, 12442, 124, 106, 67]]}, "model": "", "domain": "tickets", "duration": 10.51, "tags": []}
{"request_id": "9cabecc2-d579-4c9f-b0ff-ffb782679892", "client_ip": "127.0.0.1", "timestamp": "2025-06-17T16:44:28.317649", "status": "success", "original_question": "Podrías darme las estadísticas de los tickets del 2025 por cada departamento y área?", "enhanced_question": "Muestra las estadísticas de los tickets de cada departamento y área durante el año 2025.", "flow": "", "generated_sql": "SELECT\n  EXTRACT(YEAR FROM tks.fecha_registro) AS anio,\n  departamento_colaborador_asignado,\n  area_colaborador_asignado,\n  COUNT(*) FILTER(WHERE\n    tks.estatus_ticket <> 'CANCELADO') AS tickets_registrados,\n  COUNT(*) FILTER(WHERE\n    tks.estatus_ticket = 'ATENDIDO'\n    OR (\n      NOT tks.fecha_cierre IS NULL AND NOT tks.estatus_ticket IN ('CANCELADO')\n    )) AS tickets_atendidos,\n  COUNT(*) FILTER(WHERE\n    NOT tks.estatus_ticket IN ('ATENDIDO', 'CANCELADO') AND tks.fecha_cierre IS NULL) AS tickets_abiertos,\n  COUNT(*) FILTER(WHERE\n    tks.estatus_ticket = 'EN PROCESO' AND tks.fecha_cierre IS NULL) AS tickets_proceso,\n  COUNT(*) FILTER(WHERE\n    tks.estatus_ticket = 'EN PROCESO'\n    AND tks.fecha_cierre IS NULL\n    AND estatus_atencion = 'FUERA DE TIEMPO') AS tickets_fuera_tiempo\nFROM ft_tickets_ia AS tks\nWHERE\n  EXTRACT(YEAR FROM tks.fecha_registro) = EXTRACT(YEAR FROM CURRENT_DATE)\nGROUP BY\n  EXTRACT(YEAR FROM tks.fecha_registro),\n  departamento_colaborador_asignado,\n  area_colaborador_asignado", "result": {"columns": ["anio", "departamento_colaborador_asignado", "area_colaborador_asignado", "tickets_registrados", "tickets_atendidos", "tickets_abiertos", "tickets_proceso", "tickets_fuera_tiempo"], "rows": [["2025", "ACCESS CONTROL VIDEO SOLUTIONS", "ACCESS CONTROL VIDEO SOLUTIONS", 143, 140, 3, 3, 3], ["2025", "ADMINISTRACIÓN I&N", "ADMINISTRACIÓN I&N", 20, 6, 14, 14, 6], ["2025", "ADMINISTRACIÓN I&N", "ALMACÉN I&N", 650, 647, 3, 3, 2], ["2025", "ANALISTA DE NEGOCIOS", "ANALISTA DE NEGOCIOS", 5, 5, 0, 0, 0], ["2025", "AUDITORÍA CORPORATIVA DE OPERACIONES", "AUDITORÍA CORPORATIVA DE OPERACIONES", 1812, 1812, 0, 0, 0], ["2025", "AUDITORÍA CORPORATIVA DE VENTAS", "AUDITORÍA CORPORATIVA DE VENTAS", 108, 107, 1, 1, 1], ["2025", "CIBERSEGURIDAD", "CIBERSEGURIDAD", 498, 498, 0, 0, 0], ["2025", "COMUNICACIONES Y CIBERSEGURIDAD", "COMUNICACIONES Y CIBERSEGURIDAD", 259, 258, 1, 1, 0], ["2025", "DESARROLLO", "ASEGURAMIENTO DE CALIDAD DE SOFTWARE", 3, 3, 0, 0, 0], ["2025", "DESARROLLO", "DIVISIÓN CONSTRUCCIÓN", 18, 18, 0, 0, 0], ["2025", "DESARROLLO", "DIVISIÓN INNOVACIÓN", 10, 9, 1, 1, 1], ["2025", "DESARROLLO", "DIVISIÓN REYMA", 5, 5, 0, 0, 0], ["2025", "DESARROLLO", "DIVISIÓN SERVICIOS", 2, 2, 0, 0, 0], ["2025", "GESTIÓN DE SERVICIOS TI", "CENTRO DE ATENCION A USUARIOS", 608, 591, 17, 17, 6], ["2025", "GESTIÓN DE SERVICIOS TI", "CENTRO DE ATENCIÓN A USUARIOS", 1, 0, 1, 0, 0], ["2025", "GESTIÓN DE SERVICIOS TI", "GESTIÓN DE APLICATIVOS", 1173, 1168, 5, 5, 5], ["2025", "GESTIÓN DE SERVICIOS TI", "GESTIÓN DE SERVICIOS TI", 117, 105, 12, 12, 10], ["2025", "GESTIÓN DE SERVICIOS TI", "SOPORTE FORANEOS", 1129, 1118, 11, 11, 4], ["2025", "GESTIÓN DE SERVICIOS TI", "SOPORTE TÉCNICO", 2954, 2919, 35, 34, 23], ["2025", "INFRAESTRUCTURA", "INFRAESTRUCTURA", 14, 13, 1, 1, 1], ["2025", "INTELIGENCIA EMPRESARIAL", "INTELIGENCIA EMPRESARIAL", 25, 25, 0, 0, 0], ["2025", "PMO", "PMO", 379, 377, 2, 2, 2], ["2025", "PROCESOS DE INNOVACIÓN", "PROCESOS DE INNOVACIÓN", 425, 425, 0, 0, 0], ["2025", "REDES Y TELECOMUNICACIONES", "REDES Y TELECOMUNICACIONES", 769, 768, 1, 1, 1], ["2025", "SERVIDORES Y PLATAFORMAS", "SERVIDORES Y PLATAFORMAS", 1449, 1446, 3, 3, 3], ["2025", null, null, 14, 0, 14, 0, 0]]}, "model": "", "domain": "tickets", "duration": 18.77, "tags": []}
{"request_id": "fed15450-102c-406d-b38b-d9f114850f04", "client_ip": "127.0.0.1", "timestamp": "2025-06-17T16:45:56.756416", "status": "success", "original_question": "Entrégame un resumen general del comportamiento de los tickets en el 2025", "enhanced_question": "Muestra un resumen general del comportamiento de los tickets durante el año 2025.", "flow": "", "generated_sql": "SELECT\n  EXTRACT(YEAR FROM tks.fecha_registro) AS anio,\n  COUNT(*) FILTER(WHERE\n    tks.estatus_ticket <> 'CANCELADO') AS tickets_registrados,\n  COUNT(*) FILTER(WHERE\n    tks.estatus_ticket = 'ATENDIDO'\n    OR (\n      NOT tks.fecha_cierre IS NULL AND NOT tks.estatus_ticket IN ('CANCELADO')\n    )) AS tickets_atendidos,\n  COUNT(*) FILTER(WHERE\n    NOT tks.estatus_ticket IN ('ATENDIDO', 'CANCELADO') AND tks.fecha_cierre IS NULL) AS tickets_abiertos,\n  COUNT(*) FILTER(WHERE\n    tks.estatus_ticket = 'EN PROCESO' AND tks.fecha_cierre IS NULL) AS tickets_proceso,\n  COUNT(*) FILTER(WHERE\n    tks.estatus_ticket = 'EN PROCESO'\n    AND tks.fecha_cierre IS NULL\n    AND estatus_atencion = 'FUERA DE TIEMPO') AS tickets_fuera_tiempo\nFROM ft_tickets_ia AS tks\nWHERE\n  EXTRACT(YEAR FROM tks.fecha_registro) = EXTRACT(YEAR FROM CURRENT_DATE)\nGROUP BY\n  EXTRACT(YEAR FROM tks.fecha_registro)", "result": {"columns": ["anio", "tickets_registrados", "tickets_atendidos", "tickets_abiertos", "tickets_proceso", "tickets_fuera_tiempo"], "rows": [["2025", 12593, 12467, 126, 109, 67]]}, "model": "", "domain": "tickets", "duration": 15.2, "tags": []}
{"request_id": "c786e76b-bf91-47f5-a6ba-b3e8400f7d18", "client_ip": "127.0.0.1", "timestamp": "2025-06-17T16:48:45.594554", "status": "success", "original_question": "Tickets abiertos", "enhanced_question": "Cuenta el número total de tickets abiertos.", "flow": "", "generated_sql": "SELECT\n  COUNT(*)\nFROM ft_tickets_ia\nWHERE\n  NOT estatus_ticket IN ('ATENDIDO', 'CANCELADO') AND fecha_cierre IS NULL", "result": {"columns": ["count"], "rows": [[129]]}, "model": "", "domain": "tickets", "duration": 6.9, "tags": []}
{"request_id": "b29c8167-7d97-4b84-bf15-c5b22b28790a", "client_ip": "127.0.0.1", "timestamp": "2025-06-17T16:49:42.391716", "status": "success", "original_question": "Dime cuantos tickets en proceso tiene el departamento de Inteligencia Empresarial", "enhanced_question": "Cuentanos cuántos tickets están en proceso para el departamento de Inteligencia Empresarial.", "flow": "1. Filtrar por registros que pertenecen al año actual.\n2. Agrupar por el mes del registro.\n3. Calcular el total de registros para cada mes.\n4. Calcular el porcentaje de registros para cada mes respecto al total de registros del año actual.\n5. Ordenar los resultados por el porcentaje de registros en orden descendente.\n6. Seleccionar solo los tres meses con mayor porcentaje de registros.\n7. Calcular el promedio del porcentaje de registros de los tres meses seleccionados.\n8. Etiquetar el promedio como \"Porcentaje de registros promedio del año actual\".", "generated_sql": "SELECT\n  COUNT(*)\nFROM ft_tickets_ia\nWHERE\n  estatus_ticket = 'EN PROCESO'\n  AND departamento_colaborador_asignado = 'Inteligencia Empresarial'", "result": {"columns": ["count"], "rows": [[0]]}, "model": "", "domain": "tickets", "duration": 12.03, "tags": []}
{"request_id": "0434cff1-a626-42ff-842f-a8e26654984b", "client_ip": "127.0.0.1", "timestamp": "2025-06-17T17:59:13.919926", "status": "success", "original_question": "Dime cuantos tickets en proceso tiene el departamento de Inteligencia Empresarial", "enhanced_question": "Cuentanos cuántos tickets están en proceso para el departamento de Inteligencia Empresarial.", "flow": "", "generated_sql": "SELECT\n  COUNT(*)\nFROM ft_tickets_ia\nWHERE\n  estatus_ticket = 'EN PROCESO'\n  AND departamento_colaborador_asignado = 'Soporte Técnico'", "result": {"columns": ["count"], "rows": [[0]]}, "model": "", "domain": "tickets", "duration": 3.0, "tags": []}
{"request_id": "d993a34b-e7ba-4b0c-a745-df28f3020e6e", "client_ip": "127.0.0.1", "timestamp": "2025-06-17T18:01:10.929144", "status": "success", "original_question": "Puedes darme las estadísticas generales del año 2025?", "enhanced_question": "¿Puedes mostrar las estadísticas generales del año 2025?", "flow": "", "generated_sql": "SELECT\n  EXTRACT(YEAR FROM tks.fecha_registro) AS anio,\n  COUNT(*) FILTER(WHERE\n    tks.estatus_ticket <> 'CANCELADO') AS tickets_registrados,\n  COUNT(*) FILTER(WHERE\n    tks.estatus_ticket = 'ATENDIDO'\n    OR (\n      NOT tks.fecha_cierre IS NULL AND NOT tks.estatus_ticket IN ('CANCELADO')\n    )) AS tickets_atendidos,\n  COUNT(*) FILTER(WHERE\n    NOT tks.estatus_ticket IN ('ATENDIDO', 'CANCELADO') AND tks.fecha_cierre IS NULL) AS tickets_abiertos,\n  COUNT(*) FILTER(WHERE\n    tks.estatus_ticket = 'EN PROCESO' AND tks.fecha_cierre IS NULL) AS tickets_en_proceso,\n  COUNT(*) FILTER(WHERE\n    tks.estatus_ticket = 'EN PROCESO'\n    AND tks.fecha_cierre IS NULL\n    AND tks.estatus_atencion = 'FUERA DE TIEMPO') AS tickets_fuera_tiempo\nFROM ft_tickets_ia AS tks\nWHERE\n  EXTRACT(YEAR FROM tks.fecha_registro) = EXTRACT(YEAR FROM CURRENT_DATE)\nGROUP BY\n  EXTRACT(YEAR FROM tks.fecha_registro)", "result": {"columns": ["anio", "tickets_registrados", "tickets_atendidos", "tickets_abiertos", "tickets_en_proceso", "tickets_fuera_tiempo"], "rows": [["2025", 12606, 12484, 122, 106, 65]]}, "model": "", "domain": "tickets", "duration": 9.89, "tags": []}
{"request_id": "78cb401d-33bf-456f-a8d3-daab925a8ab4", "client_ip": "127.0.0.1", "timestamp": "2025-06-17T18:01:32.109502", "status": "success", "original_question": "Cuantos tickets abiertos hay el día de hoy?", "enhanced_question": "¿Cuántos tickets están abiertos hoy?", "flow": "", "generated_sql": "SELECT\n  COUNT(*)\nFROM ft_tickets_ia\nWHERE\n  fecha_registro = CURRENT_DATE\n  AND NOT estatus_ticket IN ('ATENDIDO', 'CANCELADO')\n  AND fecha_cierre IS NULL", "result": {"columns": ["count"], "rows": [[40]]}, "model": "", "domain": "tickets", "duration": 4.41, "tags": []}
