{"request_id": "dbe473e8-46ec-4142-9c27-7f6f372dc294", "client_ip": "127.0.0.1", "timestamp": "2025-06-06T10:10:25.306215", "status": "success", "original_question": "Podrías decirme cuantos tickets abiertos hay actualmente por cada departamento y que % representa del total de tickets abiertos para cada uno?", "enhanced_question": "¿Cuántos tickets abiertos hay actualmente en cada departamento y cuál es el porcentaje que representan del total de tickets abiertos de cada uno? \n", "flow": "", "generated_sql": "WITH tickets_abiertos AS (\n  SELECT\n    departamento_colaborador_asignado AS departamento,\n    COUNT(*) AS tickets_abiertos\n  FROM ft_tickets_ia\n  WHERE\n    fecha_cierre IS NULL AND estatus_ticket <> 'CANCELADO'\n  GROUP BY\n    departamento_colaborador_asignado\n)\nSELECT\n  departamento,\n  tickets_abiertos,\n  tickets_abiertos * 100.0 / SUM(tickets_abiertos) OVER () AS porcentaje\nFROM tickets_abiertos\nORDER BY\n  porcentaje DESC", "result": {"columns": ["departamento", "tickets_abiertos", "porcentaje"], "rows": [["GESTIÓN DE SERVICIOS TI", 166, "67.2064777327935223"], [null, 37, "14.9797570850202429"], ["ADMINISTRACIÓN I&N", 32, "12.9554655870445344"], ["ACCESS CONTROL VIDEO SOLUTIONS", 5, "2.0242914979757085"], ["AUDITORÍA CORPORATIVA DE OPERACIONES", 2, "0.80971659919028340081"], ["DESARROLLO", 2, "0.80971659919028340081"], ["REDES Y TELECOMUNICACIONES", 2, "0.80971659919028340081"], ["SERVIDORES Y PLATAFORMAS", 1, "0.40485829959514170040"]]}, "model": "mistral & gemma", "domain": "tickets", "duration": 11.62, "tags": []}
{"request_id": "c2c549d8-77f3-4777-85dc-7ae6aba42750", "client_ip": "127.0.0.1", "timestamp": "2025-06-06T10:11:02.888189", "status": "success", "original_question": "Podrías decirme cuantos tickets en proceso hay actualmente por cada departamento y que % representa del total de tickets en proceso para cada uno?", "enhanced_question": "¿Para cada departamento, podrías decirme cuántos tickets hay en proceso actualmente y qué porcentaje del total de tickets en proceso representan?  \n", "flow": "", "generated_sql": "WITH tickets_en_proceso AS (\n  SELECT\n    departamento_colaborador_asignado AS departamento,\n    COUNT(*) AS tickets_en_proceso\n  FROM ft_tickets_ia\n  WHERE\n    estatus_ticket = 'EN PROCESO'\n  GROUP BY\n    departamento_colaborador_asignado\n)\nSELECT\n  departamento,\n  tickets_en_proceso,\n  tickets_en_proceso * 100.0 / SUM(tickets_en_proceso) OVER () AS porcentaje\nFROM tickets_en_proceso\nORDER BY\n  porcentaje DESC", "result": {"columns": ["departamento", "tickets_en_proceso", "porcentaje"], "rows": [["GESTIÓN DE SERVICIOS TI", 156, "77.6119402985074627"], ["ADMINISTRACIÓN I&N", 32, "15.9203980099502488"], ["ACCESS CONTROL VIDEO SOLUTIONS", 6, "2.9850746268656716"], ["DESARROLLO", 2, "0.99502487562189054726"], ["REDES Y TELECOMUNICACIONES", 2, "0.99502487562189054726"], ["AUDITORÍA CORPORATIVA DE OPERACIONES", 1, "0.49751243781094527363"], ["SERVIDORES Y PLATAFORMAS", 1, "0.49751243781094527363"], ["AUDITORÍA CORPORATIVA DE VENTAS", 1, "0.49751243781094527363"]]}, "model": "mistral & gemma", "domain": "tickets", "duration": 12.3, "tags": []}
{"request_id": "e480205a-bd3e-4de4-9b18-6ff819a62d2e", "client_ip": "127.0.0.1", "timestamp": "2025-06-06T10:19:20.790757", "status": "success", "original_question": "Podrías decirme cuantos tickets en proceso hay actualmente por cada departamento y que % representa del total de tickets en proceso para cada uno?", "enhanced_question": "¿Para cada departamento, podrías decirme cuántos tickets hay en proceso actualmente y qué porcentaje del total de tickets en proceso representan?  \n", "flow": "", "generated_sql": "WITH tickets_en_proceso AS (\n  SELECT\n    departamento_colaborador_asignado AS departamento,\n    COUNT(*) AS tickets_en_proceso\n  FROM ft_tickets_ia\n  WHERE\n    estatus_ticket = 'EN PROCESO'\n  GROUP BY\n    departamento_colaborador_asignado\n)\nSELECT\n  departamento,\n  tickets_en_proceso,\n  tickets_en_proceso * 100.0 / SUM(tickets_en_proceso) OVER () AS porcentaje\nFROM tickets_en_proceso\nORDER BY\n  porcentaje DESC", "result": {"columns": ["departamento", "tickets_en_proceso", "porcentaje"], "rows": [["GESTIÓN DE SERVICIOS TI", 157, "76.2135922330097087"], ["ADMINISTRACIÓN I&N", 36, "17.4757281553398058"], ["ACCESS CONTROL VIDEO SOLUTIONS", 5, "2.4271844660194175"], ["SERVIDORES Y PLATAFORMAS", 2, "0.97087378640776699029"], ["DESARROLLO", 2, "0.97087378640776699029"], ["AUDITORÍA CORPORATIVA DE OPERACIONES", 2, "0.97087378640776699029"], ["REDES Y TELECOMUNICACIONES", 2, "0.97087378640776699029"]]}, "model": "mistral & gemma", "domain": "tickets", "duration": 12.29, "tags": []}
{"request_id": "a21dcac5-fc74-453e-96e2-6c92b9353265", "client_ip": "127.0.0.1", "timestamp": "2025-06-06T11:33:08.486268", "status": "success", "original_question": "¿Que porcentaje representan los tickets en proceso que están fuera de tiempo respecto a al total de tickets en proceso?", "enhanced_question": "¿Qué porcentaje de los tickets en proceso que están atrasados sobre el total de tickets en proceso? \n\n\n", "flow": "", "generated_sql": "WITH tickets_en_proceso AS (\n  SELECT\n    COUNT(*) FILTER(WHERE\n      estatus_ticket = 'EN PROCESO') AS tickets_en_proceso\n  FROM ft_tickets_ia\n), tickets_fuera_tiempo AS (\n  SELECT\n    COUNT(*) FILTER(WHERE\n      estatus_ticket = 'EN PROCESO' AND tiempo_solucion_total > tiempo_sla_servicio) AS tickets_fuera_tiempo\n  FROM ft_tickets_ia\n)\nSELECT\n  (\n    tickets_fuera_tiempo.tickets_fuera_tiempo * 100.0 / tickets_en_proceso.tickets_en_proceso\n  ) AS porcentaje_fuera_tiempo\nFROM tickets_en_proceso, tickets_fuera_tiempo", "result": {"columns": ["porcentaje_fuera_tiempo"], "rows": [["65.8986175115207373"]]}, "model": "mistral & gemma", "domain": "tickets", "duration": 12.14, "tags": []}
{"request_id": "49931de2-5c75-4000-85ea-c8986020508a", "client_ip": "127.0.0.1", "timestamp": "2025-06-06T12:32:17.757138", "status": "success", "original_question": "¿Que porcentaje representan los tickets en proceso que están fuera de tiempo respecto a al total de tickets en proceso?", "enhanced_question": "¿Qué porcentaje de los tickets en proceso que están atrasados sobre el total de tickets en proceso? \n\n\n", "flow": "", "generated_sql": "WITH tickets_en_proceso AS (\n  SELECT\n    COUNT(*) FILTER(WHERE\n      estatus_ticket = 'EN PROCESO') AS tickets_en_proceso\n  FROM ft_tickets_ia\n), tickets_fuera_tiempo AS (\n  SELECT\n    COUNT(*) FILTER(WHERE\n      estatus_ticket = 'EN PROCESO' AND tiempo_solucion_total > tiempo_sla_servicio) AS tickets_fuera_tiempo\n  FROM ft_tickets_ia\n)\nSELECT\n  (\n    tickets_fuera_tiempo.tickets_fuera_tiempo * 100.0 / tickets_en_proceso.tickets_en_proceso\n  ) AS porcentaje_fuera_tiempo\nFROM tickets_en_proceso, tickets_fuera_tiempo", "result": {"columns": ["porcentaje_fuera_tiempo"], "rows": [["65.8878504672897196"]]}, "model": "mistral & gemma", "domain": "tickets", "duration": 13.32, "tags": []}
{"request_id": "ae662dbf-1ee5-4bd5-a0fa-22ccafb86254", "client_ip": "127.0.0.1", "timestamp": "2025-06-06T13:28:40.753717", "status": "success", "original_question": "¿Puedes decirme cuantos tickets fuera de tiempo hay en proceso por departamento?", "enhanced_question": "¿Cuántos tickets que están fuera de tiempo y aún en proceso hay en cada departamento? \n", "flow": "", "generated_sql": "SELECT\n  departamento_colaborador_asignado AS departamento,\n  COUNT(*) AS tickets_fuera_de_tiempo\nFROM ft_tickets_ia\nWHERE\n  estatus_ticket = 'EN PROCESO' AND estatus_atencion = 'FUERA DE TIEMPO'\nGROUP BY\n  departamento_colaborador_asignado", "result": {"columns": ["departamento", "tickets_fuera_de_tiempo"], "rows": [["ACCESS CONTROL VIDEO SOLUTIONS", 5], ["ADMINISTRACIÓN I&N", 26], ["DESARROLLO", 2], ["GESTIÓN DE SERVICIOS TI", 102]]}, "model": "mistral & gemma", "domain": "tickets", "duration": 10.03, "tags": []}
{"request_id": "06423b71-688d-46d5-9a58-9b89de77e2e0", "client_ip": "127.0.0.1", "timestamp": "2025-06-06T16:04:49.824666", "status": "success", "original_question": "De los tickets atendidos en el 2025, ¿cual es el porcentaje de aquellos que se han atendido en tiempo?", "enhanced_question": "¿Qué porcentaje de los tickets atendidos en el año 2025 se resolvieron dentro del tiempo establecido? \n", "flow": "", "generated_sql": "WITH tickets_atendidos_en_tiempo AS (\n  SELECT\n    COUNT(*) AS tickets_atendidos_en_tiempo\n  FROM ft_tickets_ia\n  WHERE\n    EXTRACT(YEAR FROM fecha_cierre) = 2025\n    AND estatus_atencion = 'TIEMPO'\n    AND estatus_ticket = 'ATENDIDO'\n), tickets_atendidos_totales AS (\n  SELECT\n    COUNT(*) AS tickets_atendidos_totales\n  FROM ft_tickets_ia\n  WHERE\n    EXTRACT(YEAR FROM fecha_cierre) = 2025 AND estatus_ticket = 'ATENDIDO'\n)\nSELECT\n  CAST((\n    tickets_atendidos_en_tiempo.tickets_atendidos_en_tiempo / tickets_atendidos_totales.tickets_atendidos_totales * 100\n  ) AS DECIMAL(10, 2)) AS porcentaje_tickets_atendidos_en_tiempo\nFROM tickets_atendidos_en_tiempo, tickets_atendidos_totales", "result": {"columns": ["porcentaje_tickets_atendidos_en_tiempo"], "rows": [["0.00"]]}, "model": "mistral & gemma", "domain": "tickets", "duration": 20.68, "tags": []}
{"request_id": "a8b4d487-481e-4013-8d15-a702673e3660", "client_ip": "127.0.0.1", "timestamp": "2025-06-06T16:12:56.756668", "status": "success", "original_question": "De los tickets atendidos en el 2025, ¿cual es el porcentaje de aquellos que se han atendido en tiempo?", "enhanced_question": "¿Qué porcentaje de los tickets atendidos en el año 2025 se resolvieron dentro del tiempo establecido? \n", "flow": "", "generated_sql": "WITH tickets_atendidos_en_tiempo AS (\n  SELECT\n    CAST(COUNT(*) AS DECIMAL) AS tickets_atendidos_en_tiempo\n  FROM ft_tickets_ia\n  WHERE\n    EXTRACT(YEAR FROM fecha_cierre) = 2025\n    AND estatus_atencion = 'TIEMPO'\n    AND estatus_ticket = 'ATENDIDO'\n), tickets_atendidos_totales AS (\n  SELECT\n    CAST(COUNT(*) AS DECIMAL) AS tickets_atendidos_totales\n  FROM ft_tickets_ia\n  WHERE\n    EXTRACT(YEAR FROM fecha_cierre) = 2025 AND estatus_ticket = 'ATENDIDO'\n)\nSELECT\n  CAST((\n    tickets_atendidos_en_tiempo.tickets_atendidos_en_tiempo / tickets_atendidos_totales.tickets_atendidos_totales * 100\n  ) AS DECIMAL(10, 2)) AS porcentaje_tickets_atendidos_en_tiempo\nFROM tickets_atendidos_en_tiempo, tickets_atendidos_totales", "result": {"columns": ["porcentaje_tickets_atendidos_en_tiempo"], "rows": [["74.45"]]}, "model": "mistral & gemma", "domain": "tickets", "duration": 17.01, "tags": []}
{"request_id": "145e13c4-47c8-48db-b5a5-18a4308d2478", "client_ip": "127.0.0.1", "timestamp": "2025-06-06T16:49:17.348572", "status": "success", "original_question": "¿Que porcentaje representa para cada unidad de negocios los tickets atendidos en el 2025?", "enhanced_question": "¿Podrías calcular el porcentaje que representan los tickets atendidos para cada unidad de negocios durante el año 2025? \n", "flow": "", "generated_sql": "WITH tickets_atendidos_por_unidad_negocio AS (\n  SELECT\n    unidad_negocio,\n    COUNT(*) AS tickets_atendidos\n  FROM ft_tickets_ia\n  WHERE\n    EXTRACT(YEAR FROM fecha_cierre) = 2025 AND estatus_ticket = 'ATENDIDO'\n  GROUP BY\n    unidad_negocio\n), tickets_atendidos_totales AS (\n  SELECT\n    COUNT(*) AS tickets_atendidos_totales\n  FROM ft_tickets_ia\n  WHERE\n    EXTRACT(YEAR FROM fecha_cierre) = 2025 AND estatus_ticket = 'ATENDIDO'\n)\nSELECT\n  unidad_negocio,\n  CAST((\n    tickets_atendidos_por_unidad_negocio.tickets_atendidos / tickets_atendidos_totales.tickets_atendidos_totales * 100\n  ) AS DECIMAL(10, 2)) AS porcentaje_tickets_atendidos\nFROM tickets_atendidos_por_unidad_negocio, tickets_atendidos_totales\nORDER BY\n  porcentaje_tickets_atendidos DESC", "result": {"columns": ["unidad_negocio", "porcentaje_tickets_atendidos"], "rows": [["CONSTRUCCIÓN", "0.00"], ["OTRAS UNIDADES DE NEGOCIO", "0.00"], ["PLÁSTICOS", "0.00"], ["SERVICIOS", "0.00"]]}, "model": "mistral & gemma", "domain": "tickets", "duration": 18.06, "tags": []}
{"request_id": "98be540e-ee3b-42bb-a0ce-1a9dba94b55b", "client_ip": "127.0.0.1", "timestamp": "2025-06-06T17:16:39.580002", "status": "success", "original_question": "¿Estadística de tickets del 2025?", "enhanced_question": "¿Podrías proporcionarme una estadística general de los tickets emitidos durante el año 2025?  \n", "flow": "", "generated_sql": "WITH tickets_atendidos_en_tiempo AS (\n  SELECT\n    CAST(COUNT(*) AS DECIMAL) AS tickets_atendidos_en_tiempo\n  FROM ft_tickets_ia\n  WHERE\n    EXTRACT(YEAR FROM fecha_cierre) = 2025\n    AND estatus_atencion = 'TIEMPO'\n    AND estatus_ticket = 'ATENDIDO'\n), tickets_atendidos_fuera_de_tiempo AS (\n  SELECT\n    CAST(COUNT(*) AS DECIMAL) AS tickets_atendidos_fuera_de_tiempo\n  FROM ft_tickets_ia\n  WHERE\n    EXTRACT(YEAR FROM fecha_cierre) = 2025\n    AND estatus_atencion = 'FUERA DE TIEMPO'\n    AND estatus_ticket = 'ATENDIDO'\n), tickets_atendidos_por_vencer AS (\n  SELECT\n    CAST(COUNT(*) AS DECIMAL) AS tickets_atendidos_por_vencer\n  FROM ft_tickets_ia\n  WHERE\n    EXTRACT(YEAR FROM fecha_cierre) = 2025\n    AND estatus_atencion = 'POR VENCER'\n    AND estatus_ticket = 'ATENDIDO'\n), tickets_atendidos_totales AS (\n  SELECT\n    CAST(COUNT(*) AS DECIMAL) AS tickets_atendidos_totales\n  FROM ft_tickets_ia\n  WHERE\n    EXTRACT(YEAR FROM fecha_cierre) = 2025 AND estatus_ticket = 'ATENDIDO'\n)\nSELECT\n  CAST((\n    tickets_atendidos_en_tiempo.tickets_atendidos_en_tiempo / tickets_atendidos_totales.tickets_atendidos_totales * 100\n  ) AS DECIMAL(10, 2)) AS porcentaje_tickets_atendidos_en_tiempo,\n  CAST((\n    tickets_atendidos_fuera_de_tiempo.tickets_atendidos_fuera_de_tiempo / tickets_atendidos_totales.tickets_atendidos_totales * 100\n  ) AS DECIMAL(10, 2)) AS porcentaje_tickets_atendidos_fuera_de_tiempo,\n  CAST((\n    tickets_atendidos_por_vencer.tickets_atendidos_por_vencer / tickets_atendidos_totales.tickets_atendidos_totales * 100\n  ) AS DECIMAL(10, 2)) AS porcentaje_tickets_atendidos_por_vencer\nFROM tickets_atendidos_en_tiempo, tickets_atendidos_fuera_de_tiempo, tickets_atendidos_por_vencer, tickets_atendidos_totales", "result": {"columns": ["porcentaje_tickets_atendidos_en_tiempo", "porcentaje_tickets_atendidos_fuera_de_tiempo", "porcentaje_tickets_atendidos_por_vencer"], "rows": [["74.32", "25.03", "0.00"]]}, "model": "mistral & gemma", "domain": "tickets", "duration": 40.52, "tags": []}
{"request_id": "696c01bf-7ccf-4707-90e6-93e1befb8669", "client_ip": "127.0.0.1", "timestamp": "2025-06-06T17:31:09.895896", "status": "success", "original_question": "Dime la cantidad de tickets abiertos en el 2025?", "enhanced_question": "¿Cuántos tickets se abrieron durante el año 2025? \n", "flow": "", "generated_sql": "SELECT\n  COUNT(*)\nFROM ft_tickets_ia\nWHERE\n  EXTRACT(YEAR FROM fecha_registro) = 2025\n  AND fecha_cierre IS NULL\n  AND estatus_ticket <> 'CANCELADO'", "result": {"columns": ["count"], "rows": [[222]]}, "model": "mistral & gemma", "domain": "tickets", "duration": 10.28, "tags": []}
{"request_id": "e736fb98-cfd9-407f-bc89-ab7e10cc5dca", "client_ip": "127.0.0.1", "timestamp": "2025-06-06T17:44:25.708738", "status": "success", "original_question": "¿Dime cuantos tickets en proceso hay en el 2025?", "enhanced_question": "¿Cuántos tickets están en proceso durante el año 2025? \n", "flow": "", "generated_sql": "SELECT\n  COUNT(*)\nFROM ft_tickets_ia\nWHERE\n  EXTRACT(YEAR FROM fecha_registro) = 2025 AND estatus_ticket = 'EN PROCESO'", "result": {"columns": ["count"], "rows": [[195]]}, "model": "mistral & gemma", "domain": "tickets", "duration": 8.44, "tags": []}
{"request_id": "ebfa7bd5-ad21-412b-88a1-15917838a0a5", "client_ip": "127.0.0.1", "timestamp": "2025-06-06T18:02:54.383364", "status": "success", "original_question": "Cuantos tickets en proceso?", "enhanced_question": "¿Cuántos tickets están actualmente en proceso? \n", "flow": "", "generated_sql": "SELECT\n  COUNT(*)\nFROM ft_tickets_ia\nWHERE\n  estatus_ticket = 'EN PROCESO'", "result": {"columns": ["count"], "rows": [[203]]}, "model": "mistral & gemma", "domain": "tickets", "duration": 6.69, "tags": []}
{"request_id": "ceb487ed-da3e-4817-a133-84e7b93daf4b", "client_ip": "127.0.0.1", "timestamp": "2025-06-06T18:04:41.380652", "status": "success", "original_question": "cantidad de tickets en proceso?", "enhanced_question": "¿Cuántos tickets están actualmente en proceso? \n", "flow": "", "generated_sql": "SELECT\n  COUNT(*)\nFROM ft_tickets_ia\nWHERE\n  estatus_ticket = 'EN PROCESO'", "result": {"columns": ["count"], "rows": [[203]]}, "model": "mistral & gemma", "domain": "tickets", "duration": 7.88, "tags": []}
{"request_id": "82dec243-6a12-4f93-931a-912ca71d48d6", "client_ip": "127.0.0.1", "timestamp": "2025-06-06T18:06:01.469145", "status": "success", "original_question": "Tickets en proceso", "enhanced_question": "¿Cuántos tickets están actualmente en proceso? \n", "flow": "", "generated_sql": "SELECT\n  COUNT(*)\nFROM ft_tickets_ia\nWHERE\n  estatus_ticket = 'EN PROCESO'", "result": {"columns": ["count"], "rows": [[203]]}, "model": "mistral & gemma", "domain": "tickets", "duration": 4.79, "tags": []}
