{"request_id": "b5fda5f6-622a-4962-a03e-3d65614073eb", "client_ip": "127.0.0.1", "timestamp": "2025-06-18T09:13:21.587799", "status": "success", "original_question": "Cuantos tickets abiertos hay el d√≠a de hoy y de estos cuantos est√°n en proceso y fuera de tiempo?", "enhanced_question": "Cu√°n cu√°ntos tickets est√°n abiertos hoy, y cu√°ntos de esos tickets est√°n en proceso y cu√°les est√°n fuera de tiempo.", "flow": "### üîÄ Flujo T√©cnico a seguir para resolver la pregunta y generar el SQL v√°lido para PstgreSQL:\n\n1. Seleccionar todos los tickets.\n2. Filtrar los tickets por fecha de registro que corresponda al a√±o actual.\n3. Agrupar los tickets por estatus.\n4. Calcular el total de tickets para cada estatus.\n5. Filtrar los tickets con estatus \"abierto\".\n6. Calcular el total de tickets abiertos.\n7. Filtrar los tickets abiertos que est√©n fuera de tiempo.\n8. Calcular el porcentaje de tickets abiertos que est√°n fuera de tiempo en relaci√≥n al total de tickets abiertos.", "generated_sql": "WITH tickets_hoy AS (\n  SELECT\n    *\n  FROM ft_tickets_ia\n  WHERE\n    CAST(fecha_registro AS DATE) = CURRENT_DATE\n), tickets_abiertos AS (\n  SELECT\n    *\n  FROM tickets_hoy\n  WHERE\n    estatus_ticket = 'ABIERTO'\n), tickets_en_proceso AS (\n  SELECT\n    *\n  FROM tickets_abiertos\n  WHERE\n    estatus_ticket = 'EN PROCESO'\n), tickets_fuera_de_tiempo AS (\n  SELECT\n    *\n  FROM tickets_abiertos\n  WHERE\n    estatus_atencion = 'FUERA DE TIEMPO'\n)\nSELECT\n  COUNT(*) AS total_tickets_abiertos,\n  COUNT(*) FILTER(WHERE\n    estatus_ticket = 'EN PROCESO') AS total_tickets_en_proceso,\n  COUNT(*) FILTER(WHERE\n    estatus_atencion = 'FUERA DE TIEMPO') AS total_tickets_fuera_de_tiempo,\n  ROUND(\n    100.0 * COUNT(*) FILTER(WHERE\n      estatus_atencion = 'FUERA DE TIEMPO') / COUNT(*) OVER (),\n    2\n  ) AS porcentaje_tickets_fuera_de_tiempo\nFROM tickets_abiertos", "result": {"columns": ["total_tickets_abiertos", "total_tickets_en_proceso", "total_tickets_fuera_de_tiempo", "porcentaje_tickets_fuera_de_tiempo"], "rows": [[0, 0, 0, "0.00"]]}, "model": "", "domain": "tickets", "duration": 15.67, "tags": []}
{"request_id": "3d1f5d4f-0307-4713-a984-667efc9935de", "client_ip": "127.0.0.1", "timestamp": "2025-06-18T09:22:02.558186", "status": "success", "original_question": "Cuantos tickets abiertos hay el d√≠a de hoy y de estos cuantos est√°n en proceso y fuera de tiempo?", "enhanced_question": "Cu√°n cu√°ntos tickets est√°n abiertos hoy, y cu√°ntos de esos tickets est√°n en proceso y cu√°les est√°n fuera de tiempo.", "flow": "", "generated_sql": "SELECT\n  COUNT(*)\nFROM ft_tickets_ia\nWHERE\n  estatus_ticket = 'EN PROCESO' AND fecha_cierre IS NULL", "result": {"columns": ["count"], "rows": [[110]]}, "model": "", "domain": "tickets", "duration": 4.86, "tags": []}
{"request_id": "29bbb782-9418-47d5-b8e9-757f7e7ae594", "client_ip": "127.0.0.1", "timestamp": "2025-06-18T09:53:24.933080", "status": "success", "original_question": "¬øCuantos tickets abiertos hay el d√≠a de hoy y de estos cuantos est√°n en proceso y fuera de tiempo?", "enhanced_question": "Cuenta los tickets abiertos hoy y, de esos, cu√°ntos est√°n en proceso y cu√°ntos est√°n fuera de tiempo.", "flow": "", "generated_sql": "SELECT\n  departamento_colaborador_asignado AS \"Departamento\",\n  area_colaborador_asignado AS \"√Årea\",\n  CAST(COUNT(*) FILTER(WHERE\n    estatus_ticket = 'EN PROCESO' AND fecha_cierre IS NULL) AS DECIMAL) AS \"Tickets En Proceso\",\n  CAST(COUNT(*) FILTER(WHERE\n    estatus_ticket = 'EN PROCESO'\n    AND fecha_cierre IS NULL\n    AND estatus_atencion = 'FUERA DE TIEMPO') AS DECIMAL) AS \"Tickets Fuera de Tiempo\"\nFROM ft_tickets_ia\nGROUP BY\n  departamento_colaborador_asignado,\n  area_colaborador_asignado\nORDER BY\n  departamento_colaborador_asignado,\n  area_colaborador_asignado", "result": {"columns": ["Departamento", "√Årea", "Tickets En Proceso", "Tickets Fuera de Tiempo"], "rows": [["ACCESS CONTROL VIDEO SOLUTIONS", "ACCESS CONTROL VIDEO SOLUTIONS", "4", "4"], ["ADMINISTRACI√ìN I&N", "ADMINISTRACI√ìN I&N", "14", "6"], ["ADMINISTRACI√ìN I&N", "ALMAC√âN I&N", "4", "3"], ["ANALISTA DE NEGOCIOS", "ANALISTA DE NEGOCIOS", "0", "0"], ["AUDITORIA CORPORATIVA DE OPERACIONES", "AUDITOR√çA CORPORATIVA DE OPERACIONES", "0", "0"], ["AUDITOR√çA CORPORATIVA DE OPERACIONES", "AUDITOR√çA CORPORATIVA DE OPERACIONES", "2", "2"], ["AUDITOR√çA CORPORATIVA DE VENTAS", "AUDITOR√çA CORPORATIVA DE VENTAS", "0", "0"], ["BRANDING E IDENTIDAD CORPORATIVA", "IMAGEN Y COMUNICACI√ìN", "0", "0"], ["CIBERSEGURIDAD", "CIBERSEGURIDAD", "1", "0"], ["COMUNICACIONES Y CIBERSEGURIDAD", "COMUNICACIONES Y CIBERSEGURIDAD", "2", "1"], ["CONSULTORIA E IMPLEMENTACI√ìN", "DIVISI√ìN CONSTRUCCI√ìN", "0", "0"], ["DESARROLLO", "ASEGURAMIENTO DE CALIDAD DE SOFTWARE", "0", "0"], ["DESARROLLO", "DIVISI√ìN CONSTRUCCI√ìN", "0", "0"], ["DESARROLLO", "DIVISI√ìN INNOVACI√ìN", "1", "1"], ["DESARROLLO", "DIVISI√ìN OTRAS UNIDADES", "0", "0"], ["DESARROLLO", "DIVISI√ìN REYMA", "0", "0"], ["DESARROLLO", "DIVISI√ìN SERVICIOS", "0", "0"], ["GESTI√ìN DE SERVICIOS TI", "CENTRO DE ATENCION A USUARIOS", "18", "7"], ["GESTI√ìN DE SERVICIOS TI", "CENTRO DE ATENCI√ìN A USUARIOS", "0", "0"], ["GESTI√ìN DE SERVICIOS TI", "DIVISI√ìN REYMA", "0", "0"], ["GESTI√ìN DE SERVICIOS TI", "GESTI√ìN DE APLICATIVOS", "4", "4"], ["GESTI√ìN DE SERVICIOS TI", "GESTI√ìN DE SERVICIOS TI", "14", "12"], ["GESTI√ìN DE SERVICIOS TI", "SOPORTE FORANEOS", "13", "4"], ["GESTI√ìN DE SERVICIOS TI", "SOPORTE T√âCNICO", "31", "21"], ["INFRAESTRUCTURA", "INFRAESTRUCTURA", "1", "1"], ["INTELIGENCIA EMPRESARIAL", "INTELIGENCIA EMPRESARIAL", "0", "0"], ["PMO", "PMO", "2", "2"], ["PROCESOS DE INNOVACI√ìN", "PROCESOS DE INNOVACI√ìN", "0", "0"], ["REDES Y TELECOMUNICACIONES", "REDES Y TELECOMUNICACIONES", "0", "0"], ["SERVIDORES Y PLATAFORMAS", "SERVIDORES Y PLATAFORMAS", "4", "4"], [null, null, "0", "0"]]}, "model": "", "domain": "tickets", "duration": 12.29, "tags": []}
{"request_id": "0e5b18e1-008c-4ddf-80b9-2b188246b808", "client_ip": "127.0.0.1", "timestamp": "2025-06-18T10:12:18.458247", "status": "success", "original_question": "¬øCuantos tickets abiertos hay el d√≠a de hoy y de estos cuantos est√°n en proceso y fuera de tiempo?", "enhanced_question": "Cuenta los tickets abiertos hoy y, de esos, cu√°ntos est√°n en proceso y cu√°ntos est√°n fuera de tiempo.", "flow": "", "generated_sql": "SELECT\n  CURRENT_DATE AS fecha_registro,\n  COUNT(*) FILTER(WHERE\n    NOT estatus_ticket IN ('ATENDIDO', 'CANCELADO') AND fecha_cierre IS NULL) AS tickets_abiertos,\n  COUNT(*) FILTER(WHERE\n    estatus_ticket = 'EN PROCESO' AND fecha_cierre IS NULL) AS tickets_proceso,\n  COUNT(*) FILTER(WHERE\n    estatus_ticket = 'EN PROCESO'\n    AND fecha_cierre IS NULL\n    AND estatus_atencion = 'FUERA DE TIEMPO') AS tickets_fuera_tiempo\nFROM ft_tickets_ia\nWHERE\n  fecha_registro = CURRENT_DATE", "result": {"columns": ["fecha_registro", "tickets_abiertos", "tickets_proceso", "tickets_fuera_tiempo"], "rows": [["2025-06-18", 13, 13, 11]]}, "model": "", "domain": "tickets", "duration": 7.31, "tags": []}
{"request_id": "ccaaa68b-9f84-4411-9b72-43bbc42208d5", "client_ip": "127.0.0.1", "timestamp": "2025-06-18T10:17:16.528296", "status": "success", "original_question": "Dame una estad√≠stica general de los tickets de ayer y hoy", "enhanced_question": "Cuenta el n√∫mero total de tickets de ayer y de hoy.", "flow": "", "generated_sql": "SELECT\n  COUNT(*)\nFROM ft_tickets_ia\nWHERE\n  (\n    fecha_registro = CURRENT_DATE OR fecha_registro = CURRENT_DATE - INTERVAL '1' DAY\n  )\n  AND NOT estatus_ticket IN ('ATENDIDO', 'CANCELADO')\n  AND fecha_cierre IS NULL", "result": {"columns": ["count"], "rows": [[41]]}, "model": "", "domain": "tickets", "duration": 3.55, "tags": []}
{"request_id": "c31b1349-f15a-4b32-90c4-d4bcb22a818a", "client_ip": "127.0.0.1", "timestamp": "2025-06-18T10:37:16.662967", "status": "success", "original_question": "Que departamento y area tienen m√°s tickets fuera de tiempo en proceso?", "enhanced_question": "¬øQu√© departamento y √°rea tienen m√°s tickets fuera de tiempo en proceso en el a√±o actual?", "flow": "", "generated_sql": "SELECT\n  departamento_colaborador_asignado AS \"Departamento\",\n  area_colaborador_asignado AS \"√Årea\",\n  COUNT(*) AS \"Tickets Fuera de Tiempo en Proceso\"\nFROM ft_tickets_ia\nWHERE\n  estatus_ticket = 'EN PROCESO'\n  AND estatus_atencion = 'FUERA DE TIEMPO'\n  AND anio_registro = EXTRACT(YEAR FROM CURRENT_DATE)\nGROUP BY\n  departamento_colaborador_asignado,\n  area_colaborador_asignado\nORDER BY\n  COUNT(*) DESC,\n  departamento_colaborador_asignado,\n  area_colaborador_asignado\nLIMIT 1", "result": {"columns": ["Departamento", "√Årea", "Tickets Fuera de Tiempo en Proceso"], "rows": [["GESTI√ìN DE SERVICIOS TI", "SOPORTE T√âCNICO", 18]]}, "model": "", "domain": "tickets", "duration": 7.53, "tags": []}
{"request_id": "99a04bbc-8fe4-4b67-a331-da806f9b9312", "client_ip": "127.0.0.1", "timestamp": "2025-06-18T10:48:37.032893", "status": "success", "original_question": "Muestra un ranking de departamentos y √°reas, indicando el n√∫mero de tickets en proceso y cu√°ntos de esos est√°n fuera de tiempo", "enhanced_question": "Ord√©nalos por departamento y √°rea, mostrando para cada uno el n√∫mero total de tickets en proceso y el n√∫mero de tickets que est√°n atrasados.", "flow": "", "generated_sql": "SELECT\n  departamento_colaborador_asignado AS \"Departamento\",\n  area_colaborador_asignado AS \"√Årea\",\n  COUNT(*) FILTER(WHERE\n    estatus_ticket = 'EN PROCESO') AS \"Tickets En Proceso\",\n  COUNT(*) FILTER(WHERE\n    estatus_ticket = 'EN PROCESO' AND estatus_atencion = 'FUERA DE TIEMPO') AS \"Tickets Atrasados\"\nFROM ft_tickets_ia\nGROUP BY\n  departamento_colaborador_asignado,\n  area_colaborador_asignado\nORDER BY\n  departamento_colaborador_asignado,\n  area_colaborador_asignado", "result": {"columns": ["Departamento", "√Årea", "Tickets En Proceso", "Tickets Atrasados"], "rows": [["ACCESS CONTROL VIDEO SOLUTIONS", "ACCESS CONTROL VIDEO SOLUTIONS", 0, 0], ["ADMINISTRACI√ìN I&N", "ADMINISTRACI√ìN I&N", 15, 7], ["ADMINISTRACI√ìN I&N", "ALMAC√âN I&N", 3, 2], ["ANALISTA DE NEGOCIOS", "ANALISTA DE NEGOCIOS", 0, 0], ["AUDITORIA CORPORATIVA DE OPERACIONES", "AUDITOR√çA CORPORATIVA DE OPERACIONES", 0, 0], ["AUDITOR√çA CORPORATIVA DE OPERACIONES", "AUDITOR√çA CORPORATIVA DE OPERACIONES", 0, 0], ["AUDITOR√çA CORPORATIVA DE VENTAS", "AUDITOR√çA CORPORATIVA DE VENTAS", 0, 0], ["BRANDING E IDENTIDAD CORPORATIVA", "IMAGEN Y COMUNICACI√ìN", 0, 0], ["CIBERSEGURIDAD", "CIBERSEGURIDAD", 1, 0], ["COMUNICACIONES Y CIBERSEGURIDAD", "COMUNICACIONES Y CIBERSEGURIDAD", 2, 1], ["CONSULTORIA E IMPLEMENTACI√ìN", "DIVISI√ìN CONSTRUCCI√ìN", 0, 0], ["DESARROLLO", "ASEGURAMIENTO DE CALIDAD DE SOFTWARE", 0, 0], ["DESARROLLO", "DIVISI√ìN CONSTRUCCI√ìN", 0, 0], ["DESARROLLO", "DIVISI√ìN INNOVACI√ìN", 1, 1], ["DESARROLLO", "DIVISI√ìN OTRAS UNIDADES", 0, 0], ["DESARROLLO", "DIVISI√ìN REYMA", 0, 0], ["DESARROLLO", "DIVISI√ìN SERVICIOS", 0, 0], ["GESTI√ìN DE SERVICIOS TI", "CENTRO DE ATENCION A USUARIOS", 17, 7], ["GESTI√ìN DE SERVICIOS TI", "CENTRO DE ATENCI√ìN A USUARIOS", 0, 0], ["GESTI√ìN DE SERVICIOS TI", "DIVISI√ìN REYMA", 0, 0], ["GESTI√ìN DE SERVICIOS TI", "GESTI√ìN DE APLICATIVOS", 2, 0], ["GESTI√ìN DE SERVICIOS TI", "GESTI√ìN DE SERVICIOS TI", 16, 14], ["GESTI√ìN DE SERVICIOS TI", "SOPORTE FORANEOS", 12, 3], ["GESTI√ìN DE SERVICIOS TI", "SOPORTE T√âCNICO", 31, 18], ["INFRAESTRUCTURA", "INFRAESTRUCTURA", 0, 0], ["INTELIGENCIA EMPRESARIAL", "INTELIGENCIA EMPRESARIAL", 0, 0], ["PMO", "PMO", 2, 2], ["PROCESOS DE INNOVACI√ìN", "PROCESOS DE INNOVACI√ìN", 0, 0], ["REDES Y TELECOMUNICACIONES", "REDES Y TELECOMUNICACIONES", 0, 0], ["SERVIDORES Y PLATAFORMAS", "SERVIDORES Y PLATAFORMAS", 9, 8], [null, null, 0, 0]]}, "model": "", "domain": "tickets", "duration": 7.76, "tags": []}
{"request_id": "581a8a4f-628a-494d-8d76-8fe5e949e82a", "client_ip": "127.0.0.1", "timestamp": "2025-06-18T10:49:16.423400", "status": "success", "original_question": "¬øCu√°les son los 5 departamentos con mayor n√∫mero de tickets fuera de tiempo este mes?", "enhanced_question": "Muestra los 5 departamentos con m√°s tickets fuera de tiempo este mes.", "flow": "", "generated_sql": "WITH departamentos_fuera_de_tiempo AS (\n  SELECT\n    departamento_colaborador_asignado,\n    COUNT(*) AS tickets_fuera_de_tiempo\n  FROM ft_tickets_ia\n  WHERE\n    estatus_atencion = 'FUERA DE TIEMPO'\n    AND CAST(fecha_registro AS DATE) = CAST(CURRENT_DATE AS DATE)\n    AND fecha_cierre IS NULL\n  GROUP BY\n    departamento_colaborador_asignado\n)\nSELECT\n  departamento_colaborador_asignado,\n  tickets_fuera_de_tiempo\nFROM departamentos_fuera_de_tiempo\nORDER BY\n  tickets_fuera_de_tiempo DESC\nLIMIT 5", "result": {"columns": ["departamento_colaborador_asignado", "tickets_fuera_de_tiempo"], "rows": [["SERVIDORES Y PLATAFORMAS", 8], ["GESTI√ìN DE SERVICIOS TI", 6]]}, "model": "", "domain": "tickets", "duration": 7.27, "tags": []}
{"request_id": "d7219e0d-db88-40ad-bfbd-664996ddc52d", "client_ip": "127.0.0.1", "timestamp": "2025-06-18T11:55:12.550179", "status": "success", "original_question": "¬øCu√°les son los 5 departamentos con mayor n√∫mero de tickets fuera de tiempo este mes?", "enhanced_question": "```json\n{\n  \"reformulacion\": \"Lista los 5 departamentos con m√°s tickets fuera de tiempo este mes.\",\n  \"tags\": [\"departamentos\", \"tickets\", \"fuera de tiempo\", \"mes actual\", \"ranking\"]\n}\n```", "flow": "### üîÄ Flujo T√©cnico a seguir para resolver la pregunta y generar el SQL v√°lido para PstgreSQL:\n\n1. Filtrar los registros de tickets que pertenecen al mes actual.\n2. Agrupar los registros por departamento.\n3. Calcular el total de tickets por cada departamento.\n4. Ordenar los departamentos por el n√∫mero de tickets de acuerdo con una funci√≥n de ranking.\n5. Seleccionar los 5 departamentos con el mayor n√∫mero de tickets.\n6. Filtrar dentro de cada departamento los tickets que est√©n fuera de tiempo.\n7. Calcular el total de tickets fuera de tiempo para cada departamento.\n8. Ordenar los departamentos por el n√∫mero de tickets fuera de tiempo.\n9. Seleccionar los 5 departamentos con el mayor n√∫mero de tickets fuera de tiempo.", "generated_sql": "WITH departamentos_tickets AS (\n  SELECT\n    departamento_colaborador_asignado,\n    COUNT(*) AS total_tickets\n  FROM ft_tickets_ia\n  WHERE\n    CAST(fecha_registro AS DATE) = CURRENT_DATE\n  GROUP BY\n    departamento_colaborador_asignado\n), departamentos_tickets_fuera_de_tiempo AS (\n  SELECT\n    d.departamento_colaborador_asignado,\n    COUNT(*) AS total_tickets_fuera_de_tiempo\n  FROM departamentos_tickets AS d\n  JOIN ft_tickets_ia AS t\n    ON d.departamento_colaborador_asignado = t.departamento_colaborador_asignado\n  WHERE\n    t.estatus_atencion = 'FUERA DE TIEMPO'\n  GROUP BY\n    d.departamento_colaborador_asignado\n), ranking AS (\n  SELECT\n    *,\n    RANK() OVER (ORDER BY total_tickets_fuera_de_tiempo DESC) AS ranking\n  FROM departamentos_tickets_fuera_de_tiempo\n)\nSELECT\n  departamento_colaborador_asignado\nFROM ranking\nWHERE\n  ranking <= 5", "result": {"columns": ["departamento_colaborador_asignado"], "rows": [["GESTI√ìN DE SERVICIOS TI"], ["SERVIDORES Y PLATAFORMAS"], ["REDES Y TELECOMUNICACIONES"], ["AUDITOR√çA CORPORATIVA DE OPERACIONES"], ["AUDITOR√çA CORPORATIVA DE VENTAS"]]}, "model": "", "domain": "tickets", "duration": 15.62, "tags": []}
{"request_id": "5dfb83d9-2d93-49fe-b9bc-d53b5987b454", "client_ip": "127.0.0.1", "timestamp": "2025-06-18T12:10:07.622992", "status": "success", "original_question": "¬øCu√°les son los 5 departamentos con mayor n√∫mero de tickets fuera de tiempo este mes?", "enhanced_question": "Lista los 5 departamentos con m√°s tickets fuera de tiempo este mes.", "flow": "", "generated_sql": "SELECT\n  departamento_colaborador_asignado AS \"Departamento\",\n  COUNT(*) AS \"Cantidad de Tickets Fuera de Tiempo\"\nFROM ft_tickets_ia\nWHERE\n  estatus_ticket = 'EN PROCESO'\n  AND estatus_atencion = 'FUERA DE TIEMPO'\n  AND mes_registro = EXTRACT(MONTH FROM CURRENT_DATE)\nGROUP BY\n  departamento_colaborador_asignado\nORDER BY\n  COUNT(*) DESC\nLIMIT 5", "result": {"columns": ["Departamento", "Cantidad de Tickets Fuera de Tiempo"], "rows": [["GESTI√ìN DE SERVICIOS TI", 37], ["AUDITOR√çA CORPORATIVA DE VENTAS", 34], ["AUDITOR√çA CORPORATIVA DE OPERACIONES", 5], ["ADMINISTRACI√ìN I&N", 4], ["PMO", 2]]}, "model": "", "domain": "tickets", "duration": 7.39, "tags": []}
{"request_id": "0f70b5a9-61a2-4d11-824f-d45fee7efe9c", "client_ip": "127.0.0.1", "timestamp": "2025-06-18T12:27:46.124385", "status": "success", "original_question": "¬øCu√°les son los 5 departamentos con mayor n√∫mero de tickets fuera de tiempo este mes?", "enhanced_question": "Lista los 5 departamentos con m√°s tickets fuera de tiempo este mes.", "flow": "", "generated_sql": "SELECT\n  departamento_colaborador_asignado AS \"Departamento\",\n  COUNT(*) AS \"Cantidad de Tickets Fuera de Tiempo\"\nFROM ft_tickets_ia\nWHERE\n  estatus_ticket = 'EN PROCESO'\n  AND estatus_atencion = 'FUERA DE TIEMPO'\n  AND mes_registro = EXTRACT(MONTH FROM CURRENT_DATE)\nGROUP BY\n  departamento_colaborador_asignado\nORDER BY\n  COUNT(*) DESC\nLIMIT 5", "result": {"columns": ["Departamento", "Cantidad de Tickets Fuera de Tiempo"], "rows": [["GESTI√ìN DE SERVICIOS TI", 38], ["AUDITOR√çA CORPORATIVA DE VENTAS", 34], ["ADMINISTRACI√ìN I&N", 7], ["AUDITOR√çA CORPORATIVA DE OPERACIONES", 4], ["PMO", 2]]}, "model": "", "domain": "tickets", "duration": 7.31, "tags": []}
{"request_id": "55a86432-cd3a-4f9d-9704-5ce5255286ad", "client_ip": "127.0.0.1", "timestamp": "2025-06-18T12:28:23.491090", "status": "success", "original_question": "¬øCuantos tickets abiertos hay actualemente?", "enhanced_question": "Contabiliza el n√∫mero total de tickets que est√°n actualmente en estado abierto.", "flow": "### üîÄ Flujo T√©cnico a seguir para resolver la pregunta y generar el SQL v√°lido para PstgreSQL:\n\n1. Selecciona los registros del conjunto de datos de tickets.\n2. Filtra los registros donde el estatus del ticket es \"abierto\".\n3. Conta el n√∫mero total de registros filtrados.", "generated_sql": "SELECT\n  COUNT(*)\nFROM ft_tickets_ia\nWHERE\n  estatus_ticket = 'ABIERTO'", "result": {"columns": ["count"], "rows": [[0]]}, "model": "", "domain": "tickets", "duration": 5.85, "tags": []}
{"request_id": "9cb8b40b-b0b8-430b-b852-113f7ceade51", "client_ip": "127.0.0.1", "timestamp": "2025-06-18T12:29:24.191463", "status": "success", "original_question": "¬øCuantos tickets est√°n abiertos hay actualmente?", "enhanced_question": "Cantidad de tickets abiertos en el momento presente.", "flow": "", "generated_sql": "SELECT\n  COUNT(*)\nFROM ft_tickets_ia\nWHERE\n  NOT estatus_ticket IN ('ATENDIDO', 'CANCELADO') AND fecha_cierre IS NULL", "result": {"columns": ["count"], "rows": [[166]]}, "model": "", "domain": "tickets", "duration": 4.59, "tags": []}
{"request_id": "c7f27c53-5434-4eb2-8c72-d6cae398f6a7", "client_ip": "127.0.0.1", "timestamp": "2025-06-18T12:30:12.801804", "status": "success", "original_question": "¬øCuantos tickets se han atendido hoy que se hayan registrado en dias anteriores?", "enhanced_question": "Contabiliza el n√∫mero de tickets registrados en d√≠as anteriores a hoy que han sido atendidos hoy.", "flow": "", "generated_sql": "SELECT\n  COUNT(*)\nFROM ft_tickets_ia\nWHERE\n  fecha_cierre = CURRENT_DATE\n  AND fecha_registro < CURRENT_DATE\n  AND estatus_ticket <> 'CANCELADO'", "result": {"columns": ["count"], "rows": [[15]]}, "model": "", "domain": "tickets", "duration": 8.69, "tags": []}
{"request_id": "2688bdc8-fdaa-45b9-b646-ead3a90eaa04", "client_ip": "127.0.0.1", "timestamp": "2025-06-18T12:32:25.557846", "status": "success", "original_question": "Podr√≠as decirme cuanto representa en porcentaje la cantidad de tickets en proceso sobre el total de los tickets abiertos", "enhanced_question": "Muestra el porcentaje de tickets en proceso sobre el total de tickets abiertos en el a√±o actual.", "flow": "", "generated_sql": "SELECT\n  CAST((\n    COUNT(*) FILTER(WHERE\n      estatus_ticket = 'EN PROCESO' AND fecha_cierre IS NULL) / COUNT(*) FILTER(WHERE\n      NOT estatus_ticket IN ('ATENDIDO', 'CANCELADO')\n      AND fecha_cierre IS NULL\n      AND anio_registro = EXTRACT(YEAR FROM CURRENT_DATE)) * 100\n  ) AS DECIMAL(5, 2)) AS porcentaje_tickets_en_proceso\nFROM ft_tickets_ia\nWHERE\n  anio_registro = EXTRACT(YEAR FROM CURRENT_DATE)", "result": {"columns": ["porcentaje_tickets_en_proceso"], "rows": [["0.00"]]}, "model": "", "domain": "tickets", "duration": 7.94, "tags": []}
{"request_id": "3e55083d-24bb-4b34-a283-30b58c073d11", "client_ip": "127.0.0.1", "timestamp": "2025-06-18T12:36:15.989529", "status": "success", "original_question": "Para cada departamento y area, me puedes decir cuantos tickets est√°n en proceso", "enhanced_question": "Para cada departamento y √°rea, cuenta el n√∫mero total de tickets que se encuentran en proceso.", "flow": "", "generated_sql": "SELECT\n  departamento_colaborador_asignado AS \"Departamento\",\n  area_colaborador_asignado AS \"√Årea\",\n  COUNT(*) AS \"Tickets En Proceso\"\nFROM ft_tickets_ia\nWHERE\n  estatus_ticket = 'EN PROCESO'\nGROUP BY\n  departamento_colaborador_asignado,\n  area_colaborador_asignado\nORDER BY\n  departamento_colaborador_asignado,\n  area_colaborador_asignado", "result": {"columns": ["Departamento", "√Årea", "Tickets En Proceso"], "rows": [["ADMINISTRACI√ìN I&N", "ADMINISTRACI√ìN I&N", 13], ["ADMINISTRACI√ìN I&N", "ALMAC√âN I&N", 9], ["AUDITOR√çA CORPORATIVA DE OPERACIONES", "AUDITOR√çA CORPORATIVA DE OPERACIONES", 3], ["AUDITOR√çA CORPORATIVA DE VENTAS", "AUDITOR√çA CORPORATIVA DE VENTAS", 34], ["CIBERSEGURIDAD", "CIBERSEGURIDAD", 1], ["COMUNICACIONES Y CIBERSEGURIDAD", "COMUNICACIONES Y CIBERSEGURIDAD", 2], ["DESARROLLO", "DIVISI√ìN INNOVACI√ìN", 1], ["GESTI√ìN DE SERVICIOS TI", "CENTRO DE ATENCION A USUARIOS", 21], ["GESTI√ìN DE SERVICIOS TI", "GESTI√ìN DE APLICATIVOS", 2], ["GESTI√ìN DE SERVICIOS TI", "GESTI√ìN DE SERVICIOS TI", 15], ["GESTI√ìN DE SERVICIOS TI", "SOPORTE FORANEOS", 13], ["GESTI√ìN DE SERVICIOS TI", "SOPORTE T√âCNICO", 36], ["PMO", "PMO", 2], ["SERVIDORES Y PLATAFORMAS", "SERVIDORES Y PLATAFORMAS", 4]]}, "model": "", "domain": "tickets", "duration": 7.0, "tags": []}
{"request_id": "590ed695-6760-4a77-a0f6-bcb47dc76d0b", "client_ip": "127.0.0.1", "timestamp": "2025-06-18T12:37:16.884547", "status": "success", "original_question": "¬øCu√°ntos tickets han sido registrados en el mes actual?", "enhanced_question": "Dame el n√∫mero total de tickets registrados durante el mes actual.", "flow": "", "generated_sql": "SELECT\n  COUNT(*)\nFROM ft_tickets_ia\nWHERE\n  CAST(DATE_TRUNC('MONTH', fecha_registro) AS DATE) = CAST(DATE_TRUNC('MONTH', CURRENT_DATE) AS DATE)\n  AND estatus_ticket <> 'CANCELADO'", "result": {"columns": ["count"], "rows": [[1556]]}, "model": "", "domain": "tickets", "duration": 5.38, "tags": []}
{"request_id": "0836dca6-6a28-4703-a59e-02e38705ec27", "client_ip": "127.0.0.1", "timestamp": "2025-06-18T12:37:45.715119", "status": "success", "original_question": "¬øCu√°ntos tickets se han cerrado hoy?\n\n", "enhanced_question": "Dame el n√∫mero total de tickets que hayan sido cerrados hoy", "flow": "", "generated_sql": "SELECT\n  COUNT(*) AS tickets_cerrados_hoy\nFROM ft_tickets_ia\nWHERE\n  NOT fecha_cierre IS NULL\n  AND fecha_cierre = CURRENT_DATE\n  AND estatus_ticket <> 'CANCELADO'", "result": {"columns": ["tickets_cerrados_hoy"], "rows": [[48]]}, "model": "", "domain": "tickets", "duration": 5.42, "tags": []}
{"request_id": "05086da8-2385-4af6-a701-f30f3bd34f5b", "client_ip": "127.0.0.1", "timestamp": "2025-06-18T12:38:18.707262", "status": "success", "original_question": "Cuales ha sido los servicios de los tickets cerrados hoy?\n\n", "enhanced_question": "Muestra los servicios de los tickets cerrados hoy,  determinando cu√°ntos pertenecen a cada servicio.", "flow": "", "generated_sql": "SELECT\n  servicio,\n  COUNT(*) AS tickets_cerrados_por_servicio\nFROM ft_tickets_ia\nWHERE\n  NOT fecha_cierre IS NULL\n  AND fecha_cierre = CURRENT_DATE\n  AND estatus_ticket <> 'CANCELADO'\nGROUP BY\n  servicio", "result": {"columns": ["servicio", "tickets_cerrados_por_servicio"], "rows": [["Acceso a la red LAN - IoT", 1], ["Ajuste", 2], ["ALTA DE USUARIO", 2], ["APOYO ATENCI√ìN EN SITIO", 3], ["BAJA COLABORADOR - RECOLECCION DE HERRAMIENTAS DE EMPLEADO", 1], ["BAJA COLABORADOR-CORREO ELECTRONICO", 1], ["BAJA COLABORADOR-DIRECTORIO ACTIVO", 1], ["BAJA COLABORADOR-RECURSO COMPARTIDO", 1], ["CANCELACION DE DOCUMENTO", 1], ["Cancelacion de entradas o salidas", 5], ["CANCELACION DE ENTRADAS Y SALIDAS", 1], ["Cancelacion de registro", 1], ["CONFIGURACION DE EQUIPO Y CUENTAS ", 2], ["CORREO ELECTRONICO - MODIFICAR INFORMACI√ìN CUENTA", 1], ["DIRECTORIO ACTIVO - MODIFICAR HOSTNAME", 2], ["DIRECTORIO ACTIVO - MODIFICAR USUARIO", 1], ["DUDA FUNCIONALIDAD DEL SISTEMA", 1], ["FALLA SISTEMA CORPORATIVO", 2], ["IMPLEMENTACION DE INFRAESTRUCTURA ", 1], ["IMPLEMENTACI√ìN INFRAESTRUCTURA SEGURIDAD", 1], ["MENSAJERIA INTERNA - MODIFICAR INFORMACI√ìN USUARIO", 1], ["Modificacion de registro", 1], ["MTTO CORRECTIVO DE COMPUTO Y ACCESORIOS", 1], ["REVISION DE UPS", 1], ["Revision Infeccion", 1], ["Salida producto da√±ado", 3], ["SOLICITUD DE LICENCIA", 1], ["SOPORTE LICENCIAMIENTO", 1], ["VALIDACI√ìN EXPEDIENTE", 3], ["Visi√≥n borrosa en c√°maras", 4]]}, "model": "", "domain": "tickets", "duration": 6.71, "tags": []}
{"request_id": "73540ebf-a5eb-4407-b900-66e2b9cc6f6a", "client_ip": "127.0.0.1", "timestamp": "2025-06-18T12:38:59.986805", "status": "success", "original_question": "¬øCu√°ntos tickets han sido cancelados en lo que va del a√±o?\n\n", "enhanced_question": "dime cu√°ntos tickets han sido cancelados desde el inicio de este a√±o hasta hoy.", "flow": "", "generated_sql": "SELECT\n  COUNT(*)\nFROM ft_tickets_ia\nWHERE\n  anio_registro = EXTRACT(YEAR FROM CURRENT_DATE)\n  AND mes_registro <= EXTRACT(MONTH FROM CURRENT_DATE)\n  AND estatus_ticket = 'CANCELADO'\n  AND NOT fecha_cierre IS NULL", "result": {"columns": ["count"], "rows": [[1154]]}, "model": "", "domain": "tickets", "duration": 5.71, "tags": []}
{"request_id": "ffad36e1-dca6-4af0-8180-d31310f4630f", "client_ip": "127.0.0.1", "timestamp": "2025-06-18T12:39:40.748764", "status": "success", "original_question": "¬øCu√°ntos tickets est√°n actualmente abiertos?\n\n", "enhanced_question": "¬øcu√°ntos tickets est√°n actualmente abiertos?", "flow": "", "generated_sql": "SELECT\n  COUNT(*)\nFROM ft_tickets_ia\nWHERE\n  NOT estatus_ticket IN ('ATENDIDO', 'CANCELADO') AND fecha_cierre IS NULL", "result": {"columns": ["count"], "rows": [[177]]}, "model": "", "domain": "tickets", "duration": 4.93, "tags": []}
{"request_id": "6a23e36e-7542-4f22-9afe-d8810f159718", "client_ip": "127.0.0.1", "timestamp": "2025-06-18T12:40:20.696185", "status": "success", "original_question": "¬øCu√°ntos tickets est√°n fuera de tiempo al d√≠a de hoy?\n", "enhanced_question": "¬øcu√°ntos tickets est√°n fuera de tiempo al d√≠a de hoy?", "flow": "", "generated_sql": "SELECT\n  COUNT(*)\nFROM ft_tickets_ia\nWHERE\n  fecha_registro = CURRENT_DATE\n  AND estatus_ticket = 'EN PROCESO'\n  AND estatus_atencion = 'FUERA DE TIEMPO'", "result": {"columns": ["count"], "rows": [[58]]}, "model": "", "domain": "tickets", "duration": 6.31, "tags": []}
{"request_id": "7746b328-da08-4616-99bd-1db335c70277", "client_ip": "127.0.0.1", "timestamp": "2025-06-18T12:43:03.522596", "status": "success", "original_question": "¬øCu√°ntos tickets abiertos est√°n en proceso y fuera de tiempo?\n", "enhanced_question": "¬øcu√°ntos tickets abiertos est√°n en proceso y fuera de tiempo?", "flow": "", "generated_sql": "SELECT\n  COUNT(*)\nFROM ft_tickets_ia\nWHERE\n  NOT estatus_ticket IN ('ATENDIDO', 'CANCELADO')\n  AND fecha_cierre IS NULL\n  AND estatus_atencion = 'FUERA DE TIEMPO'\n  OR estatus_ticket = 'EN PROCESO'\n  AND fecha_cierre IS NULL", "result": {"columns": ["count"], "rows": [[156]]}, "model": "", "domain": "tickets", "duration": 6.36, "tags": []}
{"request_id": "b39c1228-0144-4abb-8b66-d86d8f8d336b", "client_ip": "127.0.0.1", "timestamp": "2025-06-18T12:45:50.134187", "status": "success", "original_question": "¬øCu√°ntos tickets han sido atendidos en Le√≥n este mes?\n", "enhanced_question": "Calcula cu√°ntos tickets han sido resueltos en la ciudad de Le√≥n durante el mes actual.", "flow": "### üîÄ Flujo T√©cnico a seguir para resolver la pregunta y generar el SQL v√°lido para PstgreSQL:\n\n1. Filtra los registros de tickets por el mes actual.\n2. Filtra los registros de tickets por la ciudad de Le√≥n.\n3. Selecciona los registros filtrados.\n4. Calcula el n√∫mero de registros seleccionados.", "generated_sql": "SELECT\n  COUNT(*)\nFROM ft_tickets_ia\nWHERE\n  CAST(fecha_registro AS DATE) = CURRENT_DATE AND ciudad = 'Le√≥n'", "result": {"columns": ["count"], "rows": [[0]]}, "model": "", "domain": "tickets", "duration": 7.14, "tags": []}
{"request_id": "6bf1b699-07fe-4c5f-bfdc-224cf1e260b6", "client_ip": "127.0.0.1", "timestamp": "2025-06-18T12:55:07.196909", "status": "success", "original_question": "¬øCu√°ntos tickets han sido atendidos en Quer√©taro este mes?\n", "enhanced_question": "¬øcu√°ntos tickets han sido atendidos en quer√©taro este mes?", "flow": "", "generated_sql": "SELECT\n  COUNT(*)\nFROM ft_tickets_ia\nWHERE\n  ciudad = 'QUER√âTARO'\n  AND estatus_ticket = 'ATENDIDO'\n  AND fecha_registro >= DATE_TRUNC('MONTH', CURRENT_DATE)\n  AND fecha_registro <= DATE_TRUNC('MONTH', CURRENT_DATE) + INTERVAL '1' MONTH - INTERVAL '1' DAY", "result": {"columns": ["count"], "rows": [[0]]}, "model": "", "domain": "tickets", "duration": 9.09, "tags": []}
{"request_id": "98477720-c9a4-43fb-b79d-2e2d954671d6", "client_ip": "127.0.0.1", "timestamp": "2025-06-18T12:55:59.319273", "status": "success", "original_question": "¬øCu√°ntos tickets han sido atendidos en queretaro este mes?\n", "enhanced_question": "Dame el n√∫mero total de tickets que fueron atendidos en Quer√©taro durante el mes actual.", "flow": "", "generated_sql": "SELECT\n  DATE_PART('month', CURRENT_DATE) AS mes_actual,\n  DATE_PART('year', CURRENT_DATE) AS a√±o_actual,\n  COUNT(*) AS tickets_atendidos\nFROM ft_tickets_ia\nWHERE\n  (\n    estatus_ticket = 'ATENDIDO'\n    OR (\n      NOT fecha_cierre IS NULL AND NOT estatus_ticket = 'CANCELADO'\n    )\n  )\n  AND ciudad ILIKE '%Quer√©taro%'\n  AND CAST(DATE_TRUNC('MONTH', fecha_cierre) AS DATE) = CAST(DATE_TRUNC('MONTH', CURRENT_DATE) AS DATE)", "result": {"columns": ["mes_actual", "a√±o_actual", "tickets_atendidos"], "rows": [[6.0, 2025.0, 0]]}, "model": "", "domain": "tickets", "duration": 7.46, "tags": []}
{"request_id": "e50e5abf-84d2-4c96-a207-03f6a1c7ec3d", "client_ip": "127.0.0.1", "timestamp": "2025-06-18T12:56:48.921835", "status": "success", "original_question": "¬øCu√°ntos tickets han sido atendidos en 'QUERETARO' este mes?\n", "enhanced_question": "¬øcu√°ntos tickets han sido atendidos en 'queretaro' este mes?", "flow": "", "generated_sql": "SELECT\n  DATE_PART('month', CURRENT_DATE) AS mes_actual,\n  DATE_PART('year', CURRENT_DATE) AS a√±o_actual,\n  COUNT(*) AS tickets_atendidos_queretaro\nFROM ft_tickets_ia\nWHERE\n  estatus_ticket = 'ATENDIDO'\n  AND ciudad = 'queretaro'\n  AND NOT fecha_cierre IS NULL\n  AND CAST(DATE_TRUNC('MONTH', fecha_cierre) AS DATE) = CAST(DATE_TRUNC('MONTH', CURRENT_DATE) AS DATE)", "result": {"columns": ["mes_actual", "a√±o_actual", "tickets_atendidos_queretaro"], "rows": [[6.0, 2025.0, 0]]}, "model": "", "domain": "tickets", "duration": 7.33, "tags": []}
{"request_id": "25082f48-0453-4e0e-8273-2d309bca8272", "client_ip": "127.0.0.1", "timestamp": "2025-06-18T13:31:21.665330", "status": "success", "original_question": "¬øCu√°ntos tickets han sido atendidos en 'LEON' este mes?\n", "enhanced_question": "¬øcu√°ntos tickets han sido atendidos en 'leon' este mes?", "flow": "", "generated_sql": "SELECT\n  COUNT(*) AS tickets_atendidos\nFROM ft_tickets_ia\nWHERE\n  estatus_ticket = 'ATENDIDO' AND ciudad ILIKE 'Le√≥n' AND ciudad ILIKE 'Leon'", "result": {"columns": ["tickets_atendidos"], "rows": [[0]]}, "model": "", "domain": "tickets", "duration": 6.39, "tags": []}
{"request_id": "ec30a5cc-8b7e-4db0-afd7-bd9e1f1a3699", "client_ip": "127.0.0.1", "timestamp": "2025-06-18T13:32:56.890200", "status": "success", "original_question": "¬øCu√°ntos tickets han sido atendidos en LEON este mes?\n", "enhanced_question": "Dime cu√°ntos tickets han sido atendidos en el departamento de LEON durante el mes actual.", "flow": "", "generated_sql": "SELECT\n  COUNT(*) AS tickets_atendidos\nFROM ft_tickets_ia\nWHERE\n  (\n    estatus_ticket = 'ATENDIDO'\n    OR (\n      NOT fecha_cierre IS NULL AND NOT estatus_ticket IN ('CANCELADO')\n    )\n  )\n  AND departamento_colaborador_asignado ILIKE 'LEON'\n  AND DATE_TRUNC('MONTH', fecha_cierre) = DATE_TRUNC('MONTH', CURRENT_DATE)", "result": {"columns": ["tickets_atendidos"], "rows": [[0]]}, "model": "", "domain": "tickets", "duration": 7.69, "tags": []}
{"request_id": "56626941-5f49-443f-b230-dfc47b53ea04", "client_ip": "127.0.0.1", "timestamp": "2025-06-18T13:33:31.987488", "status": "success", "original_question": "¬øCu√°ntos tickets han sido atendidos en Le√≥n este mes?\n", "enhanced_question": "Calcula cu√°ntos tickets han sido resueltos en la ciudad de Le√≥n durante el mes actual.", "flow": "", "generated_sql": "SELECT\n  EXTRACT(YEAR FROM fecha_cierre) AS a√±o,\n  ciudad,\n  COUNT(*) AS tickets_atendidos\nFROM ft_tickets_ia\nWHERE\n  (\n    estatus_ticket = 'ATENDIDO'\n    OR (\n      NOT fecha_cierre IS NULL AND NOT estatus_ticket IN ('CANCELADO')\n    )\n  )\n  AND (\n    ciudad ILIKE 'Le√≥n' OR ciudad ILIKE 'Leon'\n  )\n  AND EXTRACT(YEAR FROM fecha_cierre) = EXTRACT(YEAR FROM CURRENT_DATE)\nGROUP BY\n  EXTRACT(YEAR FROM fecha_cierre),\n  ciudad", "result": {"columns": ["a√±o", "ciudad", "tickets_atendidos"], "rows": [["2025", "LEON", 8894]]}, "model": "", "domain": "tickets", "duration": 7.48, "tags": []}
{"request_id": "3e572ee2-5581-4bf4-b9ef-5092418d2845", "client_ip": "127.0.0.1", "timestamp": "2025-06-18T13:36:44.867985", "status": "success", "original_question": "¬øCu√°ntos tickets han sido abiertos desde INNOVAPP y siguen pendientes?\n", "enhanced_question": "¬øcu√°ntos tickets han sido abiertos desde innovapp y siguen pendientes?", "flow": "", "generated_sql": "SELECT\n  COUNT(*)\nFROM ft_tickets_ia\nWHERE\n  sistema = 'INNOVAPP'\n  AND NOT estatus_ticket IN ('ATENDIDO', 'CANCELADO')\n  AND fecha_cierre IS NULL", "result": {"columns": ["count"], "rows": [[8]]}, "model": "", "domain": "tickets", "duration": 5.63, "tags": []}
{"request_id": "13f71c09-36ff-4345-ba56-4f40b4896966", "client_ip": "127.0.0.1", "timestamp": "2025-06-18T13:37:39.760155", "status": "success", "original_question": "Me puedes decir que paso con mi ticket con folio: 70347", "enhanced_question": "Busca informaci√≥n sobre el ticket con folio 70347.", "flow": "### üîÄ Flujo T√©cnico a seguir para resolver la pregunta y generar el SQL v√°lido para PstgreSQL:\n\n1. Selecciona los registros de tickets.\n2. Filtra los registros por el folio espec√≠fico (70347).\n3. Agrupa los registros por el a√±o del registro.\n4. Calcula el total de registros para cada grupo.\n5. Selecciona el grupo que contiene el registro filtrado.\n6. Devuelve los datos del registro seleccionado.", "generated_sql": "SELECT\n  fecha_registro,\n  anio_registro,\n  mes_registro,\n  fecha_cierre,\n  estatus_ticket,\n  folio_ticket,\n  sistema,\n  motivo_ticket,\n  motivo_cierre_ticket,\n  servicio_cierre_ticket,\n  centro_trabajo,\n  ciudad,\n  empresa,\n  unidad_negocio,\n  personal_reporta,\n  colaborador_asignado,\n  departamento_colaborador_asignado,\n  area_colaborador_asignado,\n  servicio,\n  tiempo_solucion_total,\n  tiempo_sla_servicio,\n  tiempo_atencion,\n  estatus_atencion\nFROM ft_tickets_ia\nWHERE\n  folio_ticket = 70347", "result": {"columns": ["fecha_registro", "anio_registro", "mes_registro", "fecha_cierre", "estatus_ticket", "folio_ticket", "sistema", "motivo_ticket", "motivo_cierre_ticket", "servicio_cierre_ticket", "centro_trabajo", "ciudad", "empresa", "unidad_negocio", "personal_reporta", "colaborador_asignado", "departamento_colaborador_asignado", "area_colaborador_asignado", "servicio", "tiempo_solucion_total", "tiempo_sla_servicio", "tiempo_atencion", "estatus_atencion"], "rows": [["2024-01-02", 2024.0, 1.0, "2024-01-02", "CANCELADO", 70347, "INNOVAPP", "SOLICITUD PARA BUSINESS SUITE NECESITO QUE ME AYUDEN A HABILITAR EL SISTEMA PARA REQUISICION DE MATERIALES .", "SE GENERO UN FOLIO CON SERVICIO ERRONEO, SE GENERA EL CORRECTO PARA SU SEGUIMIENTO ", "PERMISO DE USUARIO", "CORPORATIVO", "LEON", "PLASTICOS ADHERIBLES DEL BAJIO, S.A. DE C.V.", "PL√ÅSTICOS", "PEDRO LUIS MAGA√ëA MARTINEZ", "SAMUEL BENJAMIN CHIA RIOS", "CIBERSEGURIDAD", "CIBERSEGURIDAD", "PERMISO DE USUARIO", 21047.0, 120.0, null, null]]}, "model": "", "domain": "tickets", "duration": 10.42, "tags": []}
{"request_id": "63ff88da-cd72-4335-bb76-cd95b02c9773", "client_ip": "127.0.0.1", "timestamp": "2025-06-18T13:39:53.545258", "status": "success", "original_question": "¬øCu√°ntos tickets se han generado en el centro de trabajo ‚ÄúCorporativo‚Äù por usuarios de la unidad de negocio de Construcci√≥n?\n\n", "enhanced_question": "¬øcu√°ntos tickets se han generado en el centro de trabajo ‚Äúcorporativo‚Äù por usuarios de la unidad de negocio de construcci√≥n?", "flow": "### üîÄ Flujo T√©cnico a seguir para resolver la pregunta y generar el SQL v√°lido para PstgreSQL:\n\n1. Seleccionar todos los registros de tickets.\n2. Filtrar los registros por el centro de trabajo \"corporativo\".\n3. Filtrar los registros por la unidad de negocio \"construcci√≥n\".\n4. Agrupar los registros por el usuario.\n5. Contar el n√∫mero total de registros en cada grupo (esto dar√° el n√∫mero de tickets por usuario).\n6. Contar el total general de los tickets (esto dar√° el n√∫mero total de tickets).\n7. Calcular el porcentaje de tickets generados por la unidad de negocio de construcci√≥n respecto al total de tickets generados en el centro de trabajo \"corporativo\".", "generated_sql": "SELECT\n  personal_reporta,\n  COUNT(*) AS tickets_por_usuario\nFROM ft_tickets_ia\nWHERE\n  centro_trabajo = 'corporativo' AND unidad_negocio = 'construcci√≥n'\nGROUP BY\n  personal_reporta", "result": {"columns": ["personal_reporta", "tickets_por_usuario"], "rows": []}, "model": "", "domain": "tickets", "duration": 10.6, "tags": []}
{"request_id": "0904f786-1933-4c0c-928f-6c67aba54c2b", "client_ip": "127.0.0.1", "timestamp": "2025-06-18T13:42:31.431118", "status": "success", "original_question": "¬øCu√°ntos tickets se han generado en cada  centro de trabajo de usuarios de la unidad de negocio de Construcci√≥n?\n\n", "enhanced_question": "Quiero saber cu√°ntos tickets se han creado por cada centro de trabajo de usuarios en la unidad de negocio de Construcci√≥n.", "flow": "### üîÄ Flujo T√©cnico a seguir para resolver la pregunta y generar el SQL v√°lido para PstgreSQL:\n\n1. Seleccionar todos los registros de tickets.\n2. Agrupar los registros por el centro de trabajo de usuarios y la unidad de negocio.\n3. Contar el n√∫mero de registros en cada grupo.\n4. Filtrar solo los grupos donde la unidad de negocio es \"Construcci√≥n\".", "generated_sql": "SELECT\n  centro_trabajo,\n  unidad_negocio,\n  COUNT(*) AS cantidad_tickets\nFROM ft_tickets_ia\nWHERE\n  unidad_negocio = 'Construcci√≥n'\nGROUP BY\n  centro_trabajo,\n  unidad_negocio", "result": {"columns": ["centro_trabajo", "unidad_negocio", "cantidad_tickets"], "rows": []}, "model": "", "domain": "tickets", "duration": 8.84, "tags": []}
{"request_id": "a40a41ea-82d3-409f-bea9-f066cd570ed1", "client_ip": "127.0.0.1", "timestamp": "2025-06-18T13:43:56.703093", "status": "success", "original_question": "¬øCu√°ntos tickets abiertos hay por cada ciudad?\n\n", "enhanced_question": "Calcula cu√°ntos tickets est√°n abiertos agrupados por ciudad.", "flow": "", "generated_sql": "SELECT\n  ciudad,\n  COUNT(*)\nFROM ft_tickets_ia\nWHERE\n  NOT estatus_ticket IN ('ATENDIDO', 'CANCELADO') AND fecha_cierre IS NULL\nGROUP BY\n  ciudad\nORDER BY\n  ciudad", "result": {"columns": ["ciudad", "count"], "rows": [["AGUASCALIENTES", 1], ["APODACA", 6], ["CIUDAD SAHAGUN", 6], ["ECATEPEC DE MORELOS", 6], ["GUADALAJARA", 1], ["IRAPUATO", 1], ["LEON", 172], ["MANUEL DOBLADO", 2], ["MERIDA", 7], ["NOGALES", 2], ["PUERTO VALLARTA", 3], ["SAN FRANCISCO DEL RINCON", 4], ["SILAO", 2]]}, "model": "", "domain": "tickets", "duration": 5.6, "tags": []}
{"request_id": "cb36315c-5e10-41fd-bb6f-d17de8bd2240", "client_ip": "127.0.0.1", "timestamp": "2025-06-18T13:44:31.155448", "status": "success", "original_question": "¬øCu√°ntos tickets fuera de tiempo hay por cada departamento?", "enhanced_question": "¬øcu√°ntos tickets fuera de tiempo hay por cada departamento?", "flow": "", "generated_sql": "SELECT\n  departamento_colaborador_asignado AS \"Departamento\",\n  COUNT(*) AS \"Tickets Fuera de Tiempo\"\nFROM ft_tickets_ia\nWHERE\n  estatus_ticket = 'EN PROCESO' AND estatus_atencion = 'FUERA DE TIEMPO'\nGROUP BY\n  departamento_colaborador_asignado\nORDER BY\n  departamento_colaborador_asignado", "result": {"columns": ["Departamento", "Tickets Fuera de Tiempo"], "rows": [["ADMINISTRACI√ìN I&N", 9], ["AUDITOR√çA CORPORATIVA DE OPERACIONES", 3], ["AUDITOR√çA CORPORATIVA DE VENTAS", 55], ["CIBERSEGURIDAD", 1], ["DESARROLLO", 1], ["GESTI√ìN DE SERVICIOS TI", 55], ["PMO", 2], ["SERVIDORES Y PLATAFORMAS", 3]]}, "model": "", "domain": "tickets", "duration": 6.37, "tags": []}
{"request_id": "409e2028-3936-47e7-99ab-bf93f7f0d67a", "client_ip": "127.0.0.1", "timestamp": "2025-06-18T14:53:41.142144", "status": "success", "original_question": "¬øCu√°ntos tickets abiertos por mes se han generado en el a√±o actual?\n\n", "enhanced_question": "Contar la cantidad de tickets abiertos, agrup√°ndolos por mes del a√±o actual.", "flow": "", "generated_sql": "SELECT\n  mes_registro,\n  COUNT(*)\nFROM ft_tickets_ia\nWHERE\n  fecha_registro >= DATE_TRUNC('YEAR', CURRENT_DATE)\n  AND fecha_registro < DATE_TRUNC('YEAR', CURRENT_DATE) + INTERVAL '1' YEAR\n  AND NOT estatus_ticket IN ('ATENDIDO', 'CANCELADO')\n  AND fecha_cierre IS NULL\nGROUP BY\n  mes_registro\nORDER BY\n  mes_registro", "result": {"columns": ["mes_registro", "count"], "rows": [[1.0, 5], [2.0, 1], [4.0, 5], [5.0, 11], [6.0, 185]]}, "model": "", "domain": "tickets", "duration": 7.67, "tags": []}
{"request_id": "195027c9-d443-4fae-ae80-d773dbfab368", "client_ip": "127.0.0.1", "timestamp": "2025-06-18T14:59:02.281399", "status": "success", "original_question": "¬øCu√°l es el n√∫mero de tickets atendidos por cada colaborador asignado?\n\n", "enhanced_question": "Calcula cu√°ntos tickets se han atendido para cada colaborador.", "flow": "", "generated_sql": "SELECT\n  colaborador_asignado,\n  COUNT(*)\nFROM ft_tickets_ia\nWHERE\n  estatus_ticket = 'ATENDIDO'\nGROUP BY\n  colaborador_asignado\nORDER BY\n  colaborador_asignado", "result": {"columns": ["colaborador_asignado", "count"], "rows": [["ALBERTO LEONEL GALLARDO BELMONTE", 384], ["ALEJANDRO ALFREDO RANGEL RUIZ", 95], ["ALMA ISABEL ROBLEDO SERVIN", 418], ["ALVARO ALFONSO LAURO EGURROLA", 373], ["ANGEL FRANCISCO HERNANDEZ HORTA", 9], ["BERENICE FERNANDEZ VAZQUEZ", 20], ["BERNARDO DE JESUS REYES GARCIA", 63], ["BRENDA ELIZABETH SILVA SERVIN", 1], ["CARLOS ALBERTO ALVAREZ RODRIGUEZ", 21], ["CARLOS URIEL PI√ëON DOMINGUEZ", 21], ["CESAR ALEJANDRO MATIAS ANGELES", 188], ["CHRISTIAN ARTURO CEJAS MORENO", 852], ["CHRISTIAN JAIR FALCON TORRES", 2], ["CHRISTIAN RODOLFO ESPINOZA RODRIGUEZ", 1], ["CLAUDIA MICHELL PEREZ LOPEZ", 32], ["DANIEL ALEJANDRO RODRIGUEZ ANAYA", 34], ["DANIEL BUENO ESPARZA", 2], ["DAVID OMAR PEDROZA JUAREZ", 65], ["DAVID PASTRANO GARRATACHEZ", 14], ["DEYVIS VILLAGOMEZ RUBIO", 2867], ["DIANA JEANNETTE GOMEZ PEREZ", 413], ["DIEGO IVAN ROMERO GOMEZ", 1100], ["EDUARDO BUZO RAMIREZ", 1258], ["EDUARDO MANUEL LUNA FUNES", 95], ["GEMMA CONCEPCION MARTINEZ VARELA", 584], ["HECTOR RAMIREZ MENDOZA", 1], ["HECTOR RICARDO QUIJAS ZARATE", 1028], ["HUMBERTO ISRAEL GALINDO DAVILA", 1], ["ISABEL MACIAS MARTINEZ", 623], ["JESUS ANTONIO DE LA ROSA ESPINOZA", 297], ["JESUS ESTEBAN AVILA GUTIERREZ", 388], ["JIRI KARELL VILLAGOMEZ GALVAN", 1], ["JOHANA DEL CARMEN VILLEDA CHAVEZ", 451], ["JORGE DELGADO MARTINEZ", 39], ["JORGE RUBEN CAMPOS LOPEZ", 3], ["JOSE ALEJANDRO GUTIERREZ MALDONADO", 33], ["JOSE ALEJANDRO YA√ëEZ CORONEL", 131], ["JOSE ANTONIO SOLIS TAVARES", 33], ["JOSE DE JESUS AVILES RAMIREZ", 845], ["JOSE DE JESUS ROSAS REYES", 307], ["JOSE DE JESUS SILVA RAMIREZ", 3], ["JOSE DE JESUS VALADEZ CASTRO", 325], ["JOSE GUADALUPE HERNANDEZ MORENO", 1646], ["JOSE MARIA RIOS ROMO", 19], ["JOSE MIGUEL MARTINEZ PEREZ", 31], ["JOSE SALVADOR HERNANDEZ GONZALEZ", 989], ["JUAN CARLOS MU√ëOZ MORALES", 22], ["JUAN CARLOS SEGOVIA ESPINOZA", 1591], ["JUAN GUILLERMO RODRIGUEZ ", 9], ["JUAN MANUEL VELAZQUEZ LOPEZ", 187], ["JULIO CESAR CHAVEZ PALACIOS", 2647], ["KARLA ABIGAIL ESTRADA ZAMBRANO", 8], ["KAROL MANDUJANO QUIJAS", 6], ["LUIS DANIEL IBARRA HERRERA", 1453], ["LUIS FERNANDO MACIAS LOPEZ", 61], ["LUIS MANUEL NILA GARCIA", 74], ["MA. LUISA BRANDI BECERRA", 6], ["MARCO ANTONIO RAMOS HERRERA", 624], ["MARIA DEL CARMEN GAYTAN SOLIS", 986], ["MARIA DEL CARMEN RAMIREZ RAMIREZ", 44], ["MARTIN EDUARDO LOPEZ CASTILLO", 31], ["MIGUEL ANGEL LOPEZ RENDON", 4], ["MIGUEL ANGEL LUCIO REYES", 9], ["MIGUEL ANGEL PEREZ CAMPOS", 734], ["MIGUEL ANGEL ROMERO GOMEZ", 149], ["MIGUEL ULISES MARTINEZ DELGADO", 2], ["MONTSERRAT DEL CARMEN MATA GARCIA", 51], ["NESTOR LEON VEGA", 1], ["NORA ELIZABETH REYES GARCIA", 543], ["OMAR ALEXIS LOZANO PEREZ", 882], ["OSCAR FERNANDO IBARRA RAMIREZ", 823], ["OSCAR FRANCISCO GUTIERREZ ALVAREZ", 816], ["OSCAR URIEL MARTINEZ ORTIZ", 1031], ["RAUL MARTINEZ TOVAR", 715], ["REBECA DENISSE JIMENEZ RAMIREZ", 1087], ["REYNALDO NAVA GARNICA", 9], ["ROBERTO CARLOS GALINDO HERNANDEZ", 1265], ["ROSA EVELIA CERVANTES BARBOSA", 1], ["SAMUEL BENJAMIN CHIA RIOS", 393], ["SANDRA BERENICE ROBLEDO SERVIN", 493], ["SERGIO ALEJANDRO AMARO ZEHENNY", 32], ["SUSANA PEREZ INFANTE", 1702], ["VICTOR HUGO GOMEZ AGUILUZ", 268], ["YANELY DENISSE MENDIOLA SALCEDO", 42], ["ZDENA LIZETH MENDIOLA SALCEDO", 77]]}, "model": "", "domain": "tickets", "duration": 5.76, "tags": []}
{"request_id": "a45f68de-3fdd-438b-8892-2285a762c9e8", "client_ip": "127.0.0.1", "timestamp": "2025-06-18T15:05:42.524689", "status": "success", "original_question": "Quiero saber cu√°ntos tickets se han creado para cada combinaci√≥n de sistema y estatus.", "enhanced_question": "Necesito contar cu√°ntos tickets se han creado para cada combinaci√≥n diferente de sistema y estatus.", "flow": "", "generated_sql": "SELECT\n  sistema,\n  estatus_ticket,\n  COUNT(*) AS cantidad\nFROM ft_tickets_ia\nGROUP BY\n  sistema,\n  estatus_ticket\nORDER BY\n  sistema", "result": {"columns": ["sistema", "estatus_ticket", "cantidad"], "rows": [["BUSINESS SUITE DESK", "EN PROCESO", 191], ["BUSINESS SUITE DESK", "CANCELADO", 3555], ["BUSINESS SUITE DESK", "EN AUTORIZACION", 8], ["BUSINESS SUITE DESK", "ATENDIDO", 33954], ["BUSINESS SUITE DESK", "REGISTRADO", 2], ["BUSINESS SUITE DESK", "AUTORIZACION INVALIDA", 1], ["INNOVAPP", "EN AUTORIZACION", 2], ["INNOVAPP", "EN PROCESO", 6], ["INNOVAPP", "CANCELADO", 227], ["INNOVAPP", "ATENDIDO", 1031]]}, "model": "", "domain": "tickets", "duration": 5.09, "tags": []}
{"request_id": "609c6496-8eea-460d-9d2f-59908f0431a8", "client_ip": "127.0.0.1", "timestamp": "2025-06-18T15:26:09.132444", "status": "success", "original_question": "¬øQu√© colaborador ha atendido m√°s tickets este a√±o?", "enhanced_question": "Selecciona el colaborador que haya atendido m√°s tickets durante el a√±o actual.", "flow": "#### üîÄ Flujo T√©cnico a seguir para resolver la pregunta y generar el SQL v√°lido para PostgreSQL:\n\n1. Filtra los registros de tickets por el a√±o actual.\n2. Agrupa los registros por el colaborador.\n3. Calcula el total de tickets atendidos por cada colaborador.\n4. Ordena la lista de colaboradores por el total de tickets atendidos de forma descendente.\n5. Selecciona el primer colaborador de la lista ordenada.", "generated_sql": "SELECT\n  colaborador_asignado,\n  COUNT(*) AS tickets_atendidos\nFROM ft_tickets_ia\nWHERE\n  anio_registro = EXTRACT(YEAR FROM CURRENT_DATE)\nGROUP BY\n  colaborador_asignado\nORDER BY\n  tickets_atendidos DESC\nLIMIT 1", "result": {"columns": ["colaborador_asignado", "tickets_atendidos"], "rows": [["JULIO CESAR CHAVEZ PALACIOS", 1185]]}, "model": "", "domain": "tickets", "duration": 8.61, "tags": []}
{"request_id": "21601ae9-fca1-45b8-87e2-f67c6136b54c", "client_ip": "127.0.0.1", "timestamp": "2025-06-18T15:28:58.297857", "status": "success", "original_question": "¬øQu√© colaborador ha atendido m√°s tickets este a√±o?", "enhanced_question": "Selecciona el colaborador que haya atendido m√°s tickets durante el a√±o actual.", "flow": "#### üîÄ Flujo T√©cnico a seguir para resolver la pregunta y generar el SQL v√°lido para PostgreSQL:\n\n1. Filtra los registros del a√±o actual.\n2. Selecciona solo los registros de atenci√≥n de tickets.\n3. Agrupa por el identificador del colaborador.\n4. Calcula el total de tickets atendidos para cada colaborador.\n5. Ordena los resultados por el total de tickets atendidos en orden descendente.\n6. Selecciona solo el primer registro (el colaborador que ha atendido m√°s tickets).", "generated_sql": "WITH tickets_atendidos_por_colaborador AS (\n  SELECT\n    colaborador_asignado,\n    COUNT(*) AS tickets_atendidos\n  FROM ft_tickets_ia\n  WHERE\n    fecha_registro >= DATE_TRUNC('YEAR', CURRENT_DATE)\n    AND estatus_ticket = 'ATENDIDO'\n  GROUP BY\n    colaborador_asignado\n)\nSELECT\n  colaborador_asignado\nFROM tickets_atendidos_por_colaborador\nORDER BY\n  tickets_atendidos DESC\nLIMIT 1", "result": {"columns": ["colaborador_asignado"], "rows": [["JULIO CESAR CHAVEZ PALACIOS"]]}, "model": "", "domain": "tickets", "duration": 10.57, "tags": []}
{"request_id": "6ee70de2-3971-4e38-85a6-17d9d42a2418", "client_ip": "127.0.0.1", "timestamp": "2025-06-18T15:30:19.224558", "status": "success", "original_question": "¬øQu√© servicio ha generado m√°s tickets en el mes actual?", "enhanced_question": "Devuelve el servicio que ha generado el mayor n√∫mero de tickets en el mes actual.", "flow": "#### üîÄ Flujo T√©cnico a seguir para resolver la pregunta y generar el SQL v√°lido para PostgreSQL:\n\n1. Filtrar los tickets por el mes actual.\n2. Agrupar los tickets por servicio.\n3. Calcular el conteo de tickets por servicio.\n4. Identificar el servicio con el mayor conteo de tickets.\n5. Seleccionar el servicio con el mayor conteo de tickets.", "generated_sql": "SELECT\n  servicio\nFROM ft_tickets_ia\nWHERE\n  mes_registro = EXTRACT(MONTH FROM CURRENT_DATE)\nGROUP BY\n  servicio\nORDER BY\n  COUNT(*) DESC\nLIMIT 1", "result": {"columns": ["servicio"], "rows": [["Cancelacion de entradas o salidas"]]}, "model": "", "domain": "tickets", "duration": 7.56, "tags": []}
{"request_id": "c83fbbb8-4fe7-4d33-92c5-618d6ba8f8e5", "client_ip": "127.0.0.1", "timestamp": "2025-06-18T15:30:44.345912", "status": "success", "original_question": "¬øCu√°l es la ciudad con m√°s tickets fuera de tiempo?\n\n", "enhanced_question": "¬øcu√°l es la ciudad con m√°s tickets fuera de tiempo?", "flow": "", "generated_sql": "SELECT\n  ciudad AS \"Ciudad\",\n  COUNT(*) AS \"Tickets Fuera de Tiempo\"\nFROM ft_tickets_ia\nWHERE\n  estatus_ticket = 'EN PROCESO' AND estatus_atencion = 'FUERA DE TIEMPO'\nGROUP BY\n  ciudad\nORDER BY\n  COUNT(*) DESC\nLIMIT 1", "result": {"columns": ["Ciudad", "Tickets Fuera de Tiempo"], "rows": [["LEON", 123]]}, "model": "", "domain": "tickets", "duration": 7.66, "tags": []}
{"request_id": "3714fb9b-4cfc-4695-89d6-cbf1a27fd1e4", "client_ip": "127.0.0.1", "timestamp": "2025-06-18T15:31:25.958640", "status": "success", "original_question": "¬øQu√© √°rea tiene el mayor n√∫mero de tickets a√∫n abiertos?", "enhanced_question": "dime qu√© √°rea tiene la mayor cantidad de tickets todav√≠a abiertos", "flow": "", "generated_sql": "SELECT\n  area_colaborador_asignado AS \"√Årea\",\n  COUNT(*) AS \"Cantidad de Tickets Abiertos\"\nFROM ft_tickets_ia\nWHERE\n  NOT estatus_ticket IN ('ATENDIDO', 'CANCELADO') AND fecha_cierre IS NULL\nGROUP BY\n  area_colaborador_asignado\nORDER BY\n  COUNT(*) DESC\nLIMIT 1", "result": {"columns": ["√Årea", "Cantidad de Tickets Abiertos"], "rows": [["AUDITOR√çA CORPORATIVA DE VENTAS", 63]]}, "model": "", "domain": "tickets", "duration": 7.58, "tags": []}
{"request_id": "af083886-d807-46a7-bd19-7e2601a13b3c", "client_ip": "127.0.0.1", "timestamp": "2025-06-18T15:35:16.476392", "status": "success", "original_question": "¬øCu√°l fue el promedio de tickets registrados por mes en el 2024?\n", "enhanced_question": "Muestra el promedio de tickets registrados por mes en el a√±o 2024.", "flow": "", "generated_sql": "SELECT\n  EXTRACT(MONTH FROM fecha_registro) AS mes,\n  AVG(CASE WHEN EXTRACT(YEAR FROM fecha_registro) = 2024 THEN 1 ELSE 0 END) AS promedio_tickets\nFROM ft_tickets_ia\nWHERE\n  EXTRACT(YEAR FROM fecha_registro) = 2024\nGROUP BY\n  EXTRACT(MONTH FROM fecha_registro)\nORDER BY\n  EXTRACT(MONTH FROM fecha_registro)", "result": {"columns": ["mes", "promedio_tickets"], "rows": [["1", "1.00000000000000000000"], ["2", "1.00000000000000000000"], ["3", "1.00000000000000000000"], ["4", "1.00000000000000000000"], ["5", "1.00000000000000000000"], ["6", "1.00000000000000000000"], ["7", "1.00000000000000000000"], ["8", "1.00000000000000000000"], ["9", "1.00000000000000000000"], ["10", "1.00000000000000000000"], ["11", "1.00000000000000000000"], ["12", "1.00000000000000000000"]]}, "model": "", "domain": "tickets", "duration": 7.46, "tags": []}
{"request_id": "1964eec2-ebc8-4213-bc8e-444d32e53460", "client_ip": "127.0.0.1", "timestamp": "2025-06-18T15:44:36.759005", "status": "success", "original_question": "¬øCu√°l fue el promedio mensual de tickets registrados durante 2024?", "enhanced_question": "Muestra el promedio mensual de tickets registrados durante el a√±o 2024.", "flow": "", "generated_sql": "WITH tickets_mensuales AS (\n  SELECT\n    EXTRACT(MONTH FROM fecha_registro) AS mes,\n    COUNT(*) AS tickets_por_mes\n  FROM ft_tickets_ia\n  WHERE\n    EXTRACT(YEAR FROM fecha_registro) = 2024\n  GROUP BY\n    EXTRACT(MONTH FROM fecha_registro)\n)\nSELECT\n  AVG(tickets_por_mes) AS promedio_mensual_2024\nFROM tickets_mensuales", "result": {"columns": ["promedio_mensual_2024"], "rows": [["2085.2500000000000000"]]}, "model": "", "domain": "tickets", "duration": 6.78, "tags": []}
{"request_id": "4da8683c-456d-4b14-99a6-de74ba855307", "client_ip": "127.0.0.1", "timestamp": "2025-06-18T15:45:15.397172", "status": "success", "original_question": "¬øCu√°l fue el promedio diario de tickets registrados durante 2024?", "enhanced_question": "Calcula el promedio diario de tickets registrados durante el a√±o 2024.", "flow": "", "generated_sql": "WITH tickets_diarios_2024 AS (\n  SELECT\n    DATE_TRUNC('DAY', fecha_registro) AS fecha,\n    COUNT(*) AS tickets_por_dia\n  FROM ft_tickets_ia\n  WHERE\n    EXTRACT(YEAR FROM fecha_registro) = 2024\n  GROUP BY\n    DATE_TRUNC('DAY', fecha_registro)\n)\nSELECT\n  AVG(tickets_por_dia) AS promedio_diario_tickets_2024\nFROM tickets_diarios_2024", "result": {"columns": ["promedio_diario_tickets_2024"], "rows": [["76.5229357798165138"]]}, "model": "", "domain": "tickets", "duration": 7.55, "tags": []}
{"request_id": "2b9135f2-d0e6-48be-9650-a778b1588976", "client_ip": "127.0.0.1", "timestamp": "2025-06-18T16:09:26.066870", "status": "success", "original_question": "¬øCu√°l fue el promedio diario de tickets registrados durante 2024?", "enhanced_question": "Calcula el promedio diario de tickets registrados durante el a√±o 2024.", "flow": "", "generated_sql": "WITH tickets_diarios AS (\n  SELECT\n    fecha_registro AS fecha,\n    COUNT(*) AS tickets_por_dia\n  FROM ft_tickets_ia\n  WHERE\n    EXTRACT(YEAR FROM fecha_registro) = 2024 AND estatus_ticket <> 'CANCELADO'\n  GROUP BY\n    fecha_registro\n)\nSELECT\n  AVG(tickets_por_dia) AS promedio_diario_2024\nFROM tickets_diarios", "result": {"columns": ["promedio_diario_2024"], "rows": [["68.7484662576687117"]]}, "model": "", "domain": "tickets", "duration": 9.64, "tags": []}
