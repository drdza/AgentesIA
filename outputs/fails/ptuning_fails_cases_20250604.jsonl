{"request_id": "370f9878-c11e-4d26-a27d-3870698da7ec", "client_ip": "127.0.0.1", "timestamp": "2025-06-04T11:58:46.446572", "status": "fails", "original_question": "¿Qué servicios superaron el tiempo de SLA en más de 5 ocasiones en el último trimestre? ", "enhanced_question": "¿Qué servicios tuvieron más de 5 incidencias en las que el tiempo de respuesta excedió el tiempo acordado (SLA) en el último trimestre? \n", "flow": "1. Seleccionar los registros de servicios con más de 5 incidencias.\n2. Agrupar los registros por servicio.\n3. Calcular el total de incidencias para cada servicio.\n4. Filtrar los servicios que tengan un total de incidencias mayor a 5.\n5. Seleccionar los registros de incidencias para los servicios seleccionados.\n6. Agrupar los registros por servicio y incidencia.\n7. Calcular el tiempo de respuesta para cada incidencia.\n8. Filtrar las incidencias cuyo tiempo de respuesta excedió el tiempo acordado (SLA) en el último trimestre.\n9. Contar el número de incidencias filtradas para cada servicio.\n10. Ordenar los servicios por el número de incidencias filtradas en descenso.\n11. Seleccionar los servicios con el mayor número de incidencias filtradas.", "generated_sql": "WITH servicios_con_mas_incidencias AS (\n  SELECT\n    servicio,\n    COUNT(*) AS total_incidencias\n  FROM ft_tickets_ia\n  WHERE\n    fecha_registro >= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n    AND estatus_ticket = 'ATENDIDO'\n  GROUP BY\n    servicio\n  HAVING\n    total_incidencias > 5\n), incidencias_excedidas_sla AS (\n  SELECT\n    servicio,\n    folio_ticket,\n    fecha_cierre,\n    tiempo_solucion_total,\n    tiempo_sla_servicio\n  FROM ft_tickets_ia\n  JOIN servicios_con_mas_incidencias\n    ON ft_tickets_ia.servicio = servicios_con_mas_incidencias.servicio\n  WHERE\n    fecha_cierre >= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n    AND tiempo_solucion_total > tiempo_sla_servicio\n)\nSELECT\n  servicio,\n  COUNT(*) AS incidencias_excedidas_sla\nFROM incidencias_excedidas_sla\nGROUP BY\n  servicio\nORDER BY\n  incidencias_excedidas_sla DESC", "result": {"error": "error de sintaxis en o cerca de «MONTHS»\nLINE 7: ...>= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n                                                                 ^\n"}, "model": "mistral & gemma", "domain": "tickets", "duration": 24.8, "tags": []}
{"request_id": "f9544738-8745-4951-892a-2641be765b9c", "client_ip": "127.0.0.1", "timestamp": "2025-06-04T12:34:01.303422", "status": "fails", "original_question": "¿Qué servicios superaron el tiempo de SLA en más de 5 ocasiones en el último trimestre? ", "enhanced_question": "¿Qué servicios tuvieron más de 5 incidencias en las que el tiempo de respuesta excedió el tiempo acordado (SLA) en el último trimestre? \n", "flow": "1. Seleccionar los registros de servicios con más de 5 incidencias.\n2. Agrupar los registros por servicio.\n3. Calcular el total de incidencias para cada servicio.\n4. Filtrar los servicios que tengan un total de incidencias mayor a 5.\n5. Seleccionar los registros de incidencias para los servicios seleccionados.\n6. Agrupar los registros por servicio y incidencia.\n7. Calcular el tiempo de respuesta para cada incidencia.\n8. Filtrar las incidencias cuyo tiempo de respuesta excedió el tiempo acordado (SLA) en el último trimestre.\n9. Contar el número de incidencias filtradas para cada servicio.\n10. Ordenar los servicios por el número de incidencias filtradas en descenso.\n11. Seleccionar los servicios con el mayor número de incidencias filtradas.", "generated_sql": "WITH servicios_con_mas_incidencias AS (\n  SELECT\n    servicio,\n    COUNT(*) AS total_incidencias\n  FROM ft_tickets_ia\n  WHERE\n    fecha_registro >= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n    AND estatus_ticket = 'ATENDIDO'\n  GROUP BY\n    servicio\n  HAVING\n    total_incidencias > 5\n), incidencias_excedidas_sla AS (\n  SELECT\n    servicio,\n    folio_ticket,\n    fecha_cierre,\n    tiempo_solucion_total,\n    tiempo_sla_servicio\n  FROM ft_tickets_ia\n  JOIN servicios_con_mas_incidencias\n    ON ft_tickets_ia.servicio = servicios_con_mas_incidencias.servicio\n  WHERE\n    fecha_cierre >= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n    AND tiempo_solucion_total > tiempo_sla_servicio\n)\nSELECT\n  servicio,\n  COUNT(*) AS incidencias_excedidas_sla\nFROM incidencias_excedidas_sla\nGROUP BY\n  servicio\nORDER BY\n  incidencias_excedidas_sla DESC", "result": {"error": "error de sintaxis en o cerca de «MONTHS»\nLINE 7: ...>= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n                                                                 ^\n"}, "model": "mistral & gemma", "domain": "tickets", "duration": 24.73, "tags": []}
{"request_id": "06cc16fe-1cd8-4a76-a9dc-556b36c47b39", "client_ip": "127.0.0.1", "timestamp": "2025-06-04T13:03:03.635003", "status": "fails", "original_question": "¿Qué servicios superaron el tiempo de SLA en más de 5 ocasiones en el último trimestre?", "enhanced_question": "¿Qué servicios tuvieron más de 5 incidencias en las que el tiempo de respuesta excedió el tiempo acordado (SLA) en el último trimestre? \n", "flow": "1. Seleccionar los registros de servicios con más de 5 incidencias.\n2. Agrupar los registros por servicio.\n3. Calcular el total de incidencias para cada servicio.\n4. Filtrar los servicios que tengan un total de incidencias mayor a 5.\n5. Seleccionar los registros de incidencias para los servicios seleccionados.\n6. Agrupar los registros por servicio y incidencia.\n7. Calcular el tiempo de respuesta para cada incidencia.\n8. Filtrar las incidencias cuyo tiempo de respuesta excedió el tiempo acordado (SLA) en el último trimestre.\n9. Contar el número de incidencias filtradas para cada servicio.\n10. Ordenar los servicios por el número de incidencias filtradas en descenso.\n11. Seleccionar los servicios con el mayor número de incidencias filtradas.", "generated_sql": "WITH servicios_con_mas_incidencias AS (\n  SELECT\n    servicio,\n    COUNT(*) AS total_incidencias\n  FROM ft_tickets_ia\n  WHERE\n    fecha_registro >= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n    AND estatus_ticket = 'ATENDIDO'\n  GROUP BY\n    servicio\n  HAVING\n    total_incidencias > 5\n), incidencias_excedidas_sla AS (\n  SELECT\n    servicio,\n    folio_ticket,\n    fecha_cierre,\n    tiempo_solucion_total,\n    tiempo_sla_servicio\n  FROM ft_tickets_ia\n  JOIN servicios_con_mas_incidencias\n    ON ft_tickets_ia.servicio = servicios_con_mas_incidencias.servicio\n  WHERE\n    fecha_cierre >= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n    AND tiempo_solucion_total > tiempo_sla_servicio\n)\nSELECT\n  servicio,\n  COUNT(*) AS incidencias_excedidas_sla\nFROM incidencias_excedidas_sla\nGROUP BY\n  servicio\nORDER BY\n  incidencias_excedidas_sla DESC", "result": {"error": "error de sintaxis en o cerca de «MONTHS»\nLINE 7: ...>= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n                                                                 ^\n"}, "model": "mistral & gemma", "domain": "tickets", "duration": 24.83, "tags": []}
{"request_id": "9ab3f033-b766-4036-a959-4395c4f5abe2", "client_ip": "127.0.0.1", "timestamp": "2025-06-04T13:04:28.969121", "status": "fails", "original_question": "¿Qué servicios superaron el tiempo de SLA en más de 5 ocasiones en el último trimestre?", "enhanced_question": "¿Qué servicios tuvieron más de 5 incidencias en las que el tiempo de respuesta excedió el tiempo acordado (SLA) en el último trimestre? \n", "flow": "1. Seleccionar los registros de servicios con más de 5 incidencias.\n2. Agrupar los registros por servicio.\n3. Calcular el total de incidencias para cada servicio.\n4. Filtrar los servicios que tengan un total de incidencias mayor a 5.\n5. Seleccionar los registros de incidencias para los servicios seleccionados.\n6. Agrupar los registros por servicio y incidencia.\n7. Calcular el tiempo de respuesta para cada incidencia.\n8. Filtrar las incidencias cuyo tiempo de respuesta excedió el tiempo acordado (SLA) en el último trimestre.\n9. Contar el número de incidencias filtradas para cada servicio.\n10. Ordenar los servicios por el número de incidencias filtradas en descenso.\n11. Seleccionar los servicios con el mayor número de incidencias filtradas.", "generated_sql": "WITH servicios_con_mas_incidencias AS (\n  SELECT\n    servicio,\n    COUNT(*) AS total_incidencias\n  FROM ft_tickets_ia\n  WHERE\n    fecha_registro >= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n    AND estatus_ticket = 'ATENDIDO'\n  GROUP BY\n    servicio\n  HAVING\n    total_incidencias > 5\n), incidencias_excedidas_sla AS (\n  SELECT\n    servicio,\n    folio_ticket,\n    fecha_cierre,\n    tiempo_solucion_total,\n    tiempo_sla_servicio\n  FROM ft_tickets_ia\n  JOIN servicios_con_mas_incidencias\n    ON ft_tickets_ia.servicio = servicios_con_mas_incidencias.servicio\n  WHERE\n    fecha_cierre >= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n    AND tiempo_solucion_total > tiempo_sla_servicio\n)\nSELECT\n  servicio,\n  COUNT(*) AS incidencias_excedidas_sla\nFROM incidencias_excedidas_sla\nGROUP BY\n  servicio\nORDER BY\n  incidencias_excedidas_sla DESC", "result": {"error": "error de sintaxis en o cerca de «MONTHS»\nLINE 7: ...>= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n                                                                 ^\n"}, "model": "mistral & gemma", "domain": "tickets", "duration": 24.82, "tags": []}
{"request_id": "9b75f260-00a7-4c61-afc7-b2d54aa7dcb7", "client_ip": "127.0.0.1", "timestamp": "2025-06-04T13:39:18.644522", "status": "fails", "original_question": "¿Qué servicios superaron el tiempo de SLA en más de 5 ocasiones en el último trimestre?", "enhanced_question": "¿Qué servicios tuvieron más de 5 incidencias en las que el tiempo de respuesta excedió el tiempo acordado (SLA) en el último trimestre? \n", "flow": "1. Seleccionar los registros de servicios con más de 5 incidencias.\n2. Agrupar los registros por servicio.\n3. Calcular el total de incidencias para cada servicio.\n4. Filtrar los servicios que tengan un total de incidencias mayor a 5.\n5. Seleccionar los registros de incidencias para los servicios seleccionados.\n6. Agrupar los registros por servicio y incidencia.\n7. Calcular el tiempo de respuesta para cada incidencia.\n8. Filtrar las incidencias cuyo tiempo de respuesta excedió el tiempo acordado (SLA) en el último trimestre.\n9. Contar el número de incidencias filtradas para cada servicio.\n10. Ordenar los servicios por el número de incidencias filtradas en descenso.\n11. Seleccionar los servicios con el mayor número de incidencias filtradas.", "generated_sql": "WITH servicios_con_mas_incidencias AS (\n  SELECT\n    servicio,\n    COUNT(*) AS total_incidencias\n  FROM ft_tickets_ia\n  WHERE\n    fecha_registro >= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n    AND estatus_ticket = 'ATENDIDO'\n  GROUP BY\n    servicio\n  HAVING\n    total_incidencias > 5\n), incidencias_excedidas_sla AS (\n  SELECT\n    servicio,\n    folio_ticket,\n    fecha_cierre,\n    tiempo_solucion_total,\n    tiempo_sla_servicio\n  FROM ft_tickets_ia\n  JOIN servicios_con_mas_incidencias\n    ON ft_tickets_ia.servicio = servicios_con_mas_incidencias.servicio\n  WHERE\n    fecha_cierre >= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n    AND tiempo_solucion_total > tiempo_sla_servicio\n)\nSELECT\n  servicio,\n  COUNT(*) AS incidencias_excedidas_sla\nFROM incidencias_excedidas_sla\nGROUP BY\n  servicio\nORDER BY\n  incidencias_excedidas_sla DESC", "result": {"error": "error de sintaxis en o cerca de «MONTHS»\nLINE 7: ...>= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n                                                                 ^\n"}, "model": "mistral & gemma", "domain": "tickets", "duration": 24.78, "tags": []}
{"request_id": "50275a5e-05c6-4c7a-9f24-f6f06323c4da", "client_ip": "127.0.0.1", "timestamp": "2025-06-04T13:45:44.304371", "status": "fails", "original_question": "¿Qué servicios superaron el tiempo de SLA en más de 5 ocasiones en el último trimestre?", "enhanced_question": "¿Qué servicios tuvieron más de 5 incidencias en las que el tiempo de respuesta excedió el tiempo acordado (SLA) en el último trimestre? \n", "flow": "1. Seleccionar los registros de servicios con más de 5 incidencias.\n2. Agrupar los registros por servicio.\n3. Calcular el total de incidencias para cada servicio.\n4. Filtrar los servicios que tengan un total de incidencias mayor a 5.\n5. Seleccionar los registros de incidencias para los servicios seleccionados.\n6. Agrupar los registros por servicio y incidencia.\n7. Calcular el tiempo de respuesta para cada incidencia.\n8. Filtrar las incidencias cuyo tiempo de respuesta excedió el tiempo acordado (SLA) en el último trimestre.\n9. Contar el número de incidencias filtradas para cada servicio.\n10. Ordenar los servicios por el número de incidencias filtradas en descenso.\n11. Seleccionar los servicios con el mayor número de incidencias filtradas.", "generated_sql": "WITH servicios_con_mas_incidencias AS (\n  SELECT\n    servicio,\n    COUNT(*) AS total_incidencias\n  FROM ft_tickets_ia\n  WHERE\n    fecha_registro >= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n    AND estatus_ticket = 'ATENDIDO'\n  GROUP BY\n    servicio\n  HAVING\n    total_incidencias > 5\n), incidencias_excedidas_sla AS (\n  SELECT\n    servicio,\n    folio_ticket,\n    fecha_cierre,\n    tiempo_solucion_total,\n    tiempo_sla_servicio\n  FROM ft_tickets_ia\n  JOIN servicios_con_mas_incidencias\n    ON ft_tickets_ia.servicio = servicios_con_mas_incidencias.servicio\n  WHERE\n    fecha_cierre >= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n    AND tiempo_solucion_total > tiempo_sla_servicio\n)\nSELECT\n  servicio,\n  COUNT(*) AS incidencias_excedidas_sla\nFROM incidencias_excedidas_sla\nGROUP BY\n  servicio\nORDER BY\n  incidencias_excedidas_sla DESC", "result": {"error": "error de sintaxis en o cerca de «MONTHS»\nLINE 7: ...>= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n                                                                 ^\n"}, "model": "mistral & gemma", "domain": "tickets", "duration": 24.74, "tags": []}
{"request_id": "0e83a7e8-06db-4318-b9f8-5662fb4e6c1c", "client_ip": "127.0.0.1", "timestamp": "2025-06-04T13:46:36.460976", "status": "fails", "original_question": "¿Qué servicios superaron el tiempo de SLA en más de 5 ocasiones en el último trimestre?", "enhanced_question": "¿Qué servicios tuvieron más de 5 incidencias en las que el tiempo de respuesta excedió el tiempo acordado (SLA) en el último trimestre? \n", "flow": "1. Seleccionar los registros de servicios con más de 5 incidencias.\n2. Agrupar los registros por servicio.\n3. Calcular el total de incidencias para cada servicio.\n4. Filtrar los servicios que tengan un total de incidencias mayor a 5.\n5. Seleccionar los registros de incidencias para los servicios seleccionados.\n6. Agrupar los registros por servicio y incidencia.\n7. Calcular el tiempo de respuesta para cada incidencia.\n8. Filtrar las incidencias cuyo tiempo de respuesta excedió el tiempo acordado (SLA) en el último trimestre.\n9. Contar el número de incidencias filtradas para cada servicio.\n10. Ordenar los servicios por el número de incidencias filtradas en descenso.\n11. Seleccionar los servicios con el mayor número de incidencias filtradas.", "generated_sql": "WITH servicios_con_mas_incidencias AS (\n  SELECT\n    servicio,\n    COUNT(*) AS total_incidencias\n  FROM ft_tickets_ia\n  WHERE\n    fecha_registro >= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n    AND estatus_ticket = 'ATENDIDO'\n  GROUP BY\n    servicio\n  HAVING\n    total_incidencias > 5\n), incidencias_excedidas_sla AS (\n  SELECT\n    servicio,\n    folio_ticket,\n    fecha_cierre,\n    tiempo_solucion_total,\n    tiempo_sla_servicio\n  FROM ft_tickets_ia\n  JOIN servicios_con_mas_incidencias\n    ON ft_tickets_ia.servicio = servicios_con_mas_incidencias.servicio\n  WHERE\n    fecha_cierre >= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n    AND tiempo_solucion_total > tiempo_sla_servicio\n)\nSELECT\n  servicio,\n  COUNT(*) AS incidencias_excedidas_sla\nFROM incidencias_excedidas_sla\nGROUP BY\n  servicio\nORDER BY\n  incidencias_excedidas_sla DESC", "result": {"error": "error de sintaxis en o cerca de «MONTHS»\nLINE 7: ...>= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n                                                                 ^\n"}, "model": "mistral & gemma", "domain": "tickets", "duration": 24.69, "tags": []}
{"request_id": "e565e4b5-3781-47cc-ae71-2a6f71c845ce", "client_ip": "127.0.0.1", "timestamp": "2025-06-04T15:16:55.427227", "status": "fails", "original_question": "¿Qué servicios superaron el tiempo de SLA en más de 5 ocasiones en el último trimestre?", "enhanced_question": "¿Qué servicios tuvieron más de 5 incidencias en las que el tiempo de respuesta excedió el tiempo acordado (SLA) en el último trimestre? \n", "flow": "1. Seleccionar los registros de servicios con más de 5 incidencias.\n2. Agrupar los registros por servicio.\n3. Calcular el total de incidencias para cada servicio.\n4. Filtrar los servicios que tengan un total de incidencias mayor a 5.\n5. Seleccionar los registros de incidencias para los servicios seleccionados.\n6. Agrupar los registros por servicio y incidencia.\n7. Calcular el tiempo de respuesta para cada incidencia.\n8. Filtrar las incidencias cuyo tiempo de respuesta excedió el tiempo acordado (SLA) en el último trimestre.\n9. Contar el número de incidencias filtradas para cada servicio.\n10. Ordenar los servicios por el número de incidencias filtradas en descenso.\n11. Seleccionar los servicios con el mayor número de incidencias filtradas.", "generated_sql": "WITH servicios_con_mas_incidencias AS (\n  SELECT\n    servicio,\n    COUNT(*) AS total_incidencias\n  FROM ft_tickets_ia\n  WHERE\n    fecha_registro >= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n    AND estatus_ticket = 'ATENDIDO'\n  GROUP BY\n    servicio\n  HAVING\n    total_incidencias > 5\n), incidencias_excedidas_sla AS (\n  SELECT\n    servicio,\n    folio_ticket,\n    fecha_cierre,\n    tiempo_solucion_total,\n    tiempo_sla_servicio\n  FROM ft_tickets_ia\n  JOIN servicios_con_mas_incidencias\n    ON ft_tickets_ia.servicio = servicios_con_mas_incidencias.servicio\n  WHERE\n    fecha_cierre >= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n    AND tiempo_solucion_total > tiempo_sla_servicio\n)\nSELECT\n  servicio,\n  COUNT(*) AS incidencias_excedidas_sla\nFROM incidencias_excedidas_sla\nGROUP BY\n  servicio\nORDER BY\n  incidencias_excedidas_sla DESC", "result": {"error": "error de sintaxis en o cerca de «MONTHS»\nLINE 7: ...>= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n                                                                 ^\n"}, "model": "mistral & gemma", "domain": "tickets", "duration": 27.86, "tags": []}
{"request_id": "1be14aa6-07fb-44c6-80f7-6365bc46caa3", "client_ip": "127.0.0.1", "timestamp": "2025-06-04T15:22:26.949489", "status": "fails", "original_question": "¿Qué servicios superaron el tiempo de SLA en más de 5 ocasiones en el último trimestre?", "enhanced_question": "¿Qué servicios tuvieron más de 5 incidencias en las que el tiempo de respuesta excedió el tiempo acordado (SLA) en el último trimestre? \n", "flow": "1. Seleccionar los registros de servicios con más de 5 incidencias.\n2. Agrupar los registros por servicio.\n3. Calcular el total de incidencias para cada servicio.\n4. Filtrar los servicios que tengan un total de incidencias mayor a 5.\n5. Seleccionar los registros de incidencias para los servicios seleccionados.\n6. Agrupar los registros por servicio y incidencia.\n7. Calcular el tiempo de respuesta para cada incidencia.\n8. Filtrar las incidencias cuyo tiempo de respuesta excedió el tiempo acordado (SLA) en el último trimestre.\n9. Contar el número de incidencias filtradas para cada servicio.\n10. Ordenar los servicios por el número de incidencias filtradas en descenso.\n11. Seleccionar los servicios con el mayor número de incidencias filtradas.", "generated_sql": "WITH servicios_con_mas_incidencias AS (\n  SELECT\n    servicio,\n    COUNT(*) AS total_incidencias\n  FROM ft_tickets_ia\n  WHERE\n    fecha_registro >= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n    AND estatus_ticket = 'ATENDIDO'\n  GROUP BY\n    servicio\n  HAVING\n    total_incidencias > 5\n), incidencias_excedidas_sla AS (\n  SELECT\n    servicio,\n    folio_ticket,\n    fecha_cierre,\n    tiempo_solucion_total,\n    tiempo_sla_servicio\n  FROM ft_tickets_ia\n  JOIN servicios_con_mas_incidencias\n    ON ft_tickets_ia.servicio = servicios_con_mas_incidencias.servicio\n  WHERE\n    fecha_cierre >= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n    AND tiempo_solucion_total > tiempo_sla_servicio\n)\nSELECT\n  servicio,\n  COUNT(*) AS incidencias_excedidas_sla\nFROM incidencias_excedidas_sla\nGROUP BY\n  servicio\nORDER BY\n  incidencias_excedidas_sla DESC", "result": {"error": "error de sintaxis en o cerca de «MONTHS»\nLINE 7: ...>= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n                                                                 ^\n"}, "model": "mistral & gemma", "domain": "tickets", "duration": 26.82, "tags": []}
{"request_id": "e88b548f-1a65-463b-8e00-25bd7ff1163f", "client_ip": "127.0.0.1", "timestamp": "2025-06-04T15:25:48.946389", "status": "fails", "original_question": "¿Qué servicios superaron el tiempo de SLA en más de 5 ocasiones en el último trimestre?", "enhanced_question": "¿Qué servicios tuvieron más de 5 incidencias en las que el tiempo de respuesta excedió el tiempo acordado (SLA) en el último trimestre? \n", "flow": "1. Seleccionar los registros de servicios con más de 5 incidencias.\n2. Agrupar los registros por servicio.\n3. Calcular el total de incidencias para cada servicio.\n4. Filtrar los servicios que tengan un total de incidencias mayor a 5.\n5. Seleccionar los registros de incidencias para los servicios seleccionados.\n6. Agrupar los registros por servicio y incidencia.\n7. Calcular el tiempo de respuesta para cada incidencia.\n8. Filtrar las incidencias cuyo tiempo de respuesta excedió el tiempo acordado (SLA) en el último trimestre.\n9. Contar el número de incidencias filtradas para cada servicio.\n10. Ordenar los servicios por el número de incidencias filtradas en descenso.\n11. Seleccionar los servicios con el mayor número de incidencias filtradas.", "generated_sql": "WITH servicios_con_mas_incidencias AS (\n  SELECT\n    servicio,\n    COUNT(*) AS total_incidencias\n  FROM ft_tickets_ia\n  WHERE\n    fecha_registro >= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n    AND estatus_ticket = 'ATENDIDO'\n  GROUP BY\n    servicio\n  HAVING\n    total_incidencias > 5\n), incidencias_excedidas_sla AS (\n  SELECT\n    servicio,\n    folio_ticket,\n    fecha_cierre,\n    tiempo_solucion_total,\n    tiempo_sla_servicio\n  FROM ft_tickets_ia\n  JOIN servicios_con_mas_incidencias\n    ON ft_tickets_ia.servicio = servicios_con_mas_incidencias.servicio\n  WHERE\n    fecha_cierre >= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n    AND tiempo_solucion_total > tiempo_sla_servicio\n)\nSELECT\n  servicio,\n  COUNT(*) AS incidencias_excedidas_sla\nFROM incidencias_excedidas_sla\nGROUP BY\n  servicio\nORDER BY\n  incidencias_excedidas_sla DESC", "result": {"error": "error de sintaxis en o cerca de «MONTHS»\nLINE 7: ...>= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n                                                                 ^\n"}, "model": "mistral & gemma", "domain": "tickets", "duration": 26.75, "tags": []}
{"request_id": "e3dc37a9-6914-47ae-8773-00e523e965b5", "client_ip": "127.0.0.1", "timestamp": "2025-06-04T15:26:39.420774", "status": "fails", "original_question": "¿Qué servicios superaron el tiempo de SLA en más de 5 ocasiones en el último trimestre?", "enhanced_question": "¿Qué servicios tuvieron más de 5 incidencias en las que el tiempo de respuesta excedió el tiempo acordado (SLA) en el último trimestre? \n", "flow": "1. Seleccionar los registros de servicios con más de 5 incidencias.\n2. Agrupar los registros por servicio.\n3. Calcular el total de incidencias para cada servicio.\n4. Filtrar los servicios que tengan un total de incidencias mayor a 5.\n5. Seleccionar los registros de incidencias para los servicios seleccionados.\n6. Agrupar los registros por servicio y incidencia.\n7. Calcular el tiempo de respuesta para cada incidencia.\n8. Filtrar las incidencias cuyo tiempo de respuesta excedió el tiempo acordado (SLA) en el último trimestre.\n9. Contar el número de incidencias filtradas para cada servicio.\n10. Ordenar los servicios por el número de incidencias filtradas en descenso.\n11. Seleccionar los servicios con el mayor número de incidencias filtradas.", "generated_sql": "WITH servicios_con_mas_incidencias AS (\n  SELECT\n    servicio,\n    COUNT(*) AS total_incidencias\n  FROM ft_tickets_ia\n  WHERE\n    fecha_registro >= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n    AND estatus_ticket = 'ATENDIDO'\n  GROUP BY\n    servicio\n  HAVING\n    total_incidencias > 5\n), incidencias_excedidas_sla AS (\n  SELECT\n    servicio,\n    folio_ticket,\n    fecha_cierre,\n    tiempo_solucion_total,\n    tiempo_sla_servicio\n  FROM ft_tickets_ia\n  JOIN servicios_con_mas_incidencias\n    ON ft_tickets_ia.servicio = servicios_con_mas_incidencias.servicio\n  WHERE\n    fecha_cierre >= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n    AND tiempo_solucion_total > tiempo_sla_servicio\n)\nSELECT\n  servicio,\n  COUNT(*) AS incidencias_excedidas_sla\nFROM incidencias_excedidas_sla\nGROUP BY\n  servicio\nORDER BY\n  incidencias_excedidas_sla DESC", "result": {"error": "error de sintaxis en o cerca de «MONTHS»\nLINE 7: ...>= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n                                                                 ^\n"}, "model": "mistral & gemma", "domain": "tickets", "duration": 27.16, "tags": []}
{"request_id": "698507bb-981c-4fbf-a5ab-316a6787d789", "client_ip": "127.0.0.1", "timestamp": "2025-06-04T15:28:11.217233", "status": "fails", "original_question": "¿Qué servicios superaron el tiempo de SLA en más de 5 ocasiones en el último trimestre?", "enhanced_question": "¿Qué servicios tuvieron más de 5 incidencias en las que el tiempo de respuesta excedió el tiempo acordado (SLA) en el último trimestre? \n", "flow": "1. Seleccionar los registros de servicios con más de 5 incidencias.\n2. Agrupar los registros por servicio.\n3. Calcular el total de incidencias para cada servicio.\n4. Filtrar los servicios que tengan un total de incidencias mayor a 5.\n5. Seleccionar los registros de incidencias para los servicios seleccionados.\n6. Agrupar los registros por servicio y incidencia.\n7. Calcular el tiempo de respuesta para cada incidencia.\n8. Filtrar las incidencias cuyo tiempo de respuesta excedió el tiempo acordado (SLA) en el último trimestre.\n9. Contar el número de incidencias filtradas para cada servicio.\n10. Ordenar los servicios por el número de incidencias filtradas en descenso.\n11. Seleccionar los servicios con el mayor número de incidencias filtradas.", "generated_sql": "WITH servicios_con_mas_incidencias AS (\n  SELECT\n    servicio,\n    COUNT(*) AS total_incidencias\n  FROM ft_tickets_ia\n  WHERE\n    fecha_registro >= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n    AND estatus_ticket = 'ATENDIDO'\n  GROUP BY\n    servicio\n  HAVING\n    total_incidencias > 5\n), incidencias_excedidas_sla AS (\n  SELECT\n    servicio,\n    folio_ticket,\n    fecha_cierre,\n    tiempo_solucion_total,\n    tiempo_sla_servicio\n  FROM ft_tickets_ia\n  JOIN servicios_con_mas_incidencias\n    ON ft_tickets_ia.servicio = servicios_con_mas_incidencias.servicio\n  WHERE\n    fecha_cierre >= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n    AND tiempo_solucion_total > tiempo_sla_servicio\n)\nSELECT\n  servicio,\n  COUNT(*) AS incidencias_excedidas_sla\nFROM incidencias_excedidas_sla\nGROUP BY\n  servicio\nORDER BY\n  incidencias_excedidas_sla DESC", "result": {"error": "error de sintaxis en o cerca de «MONTHS»\nLINE 7: ...>= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n                                                                 ^\n"}, "model": "mistral & gemma", "domain": "tickets", "duration": 24.75, "tags": []}
{"request_id": "746ef05b-818e-4455-bc80-903d1b163be3", "client_ip": "127.0.0.1", "timestamp": "2025-06-04T15:29:29.972116", "status": "fails", "original_question": "¿Qué servicios superaron el tiempo de SLA en más de 5 ocasiones en el último trimestre?", "enhanced_question": "¿Qué servicios tuvieron más de 5 incidencias en las que el tiempo de respuesta excedió el tiempo acordado (SLA) en el último trimestre? \n", "flow": "1. Seleccionar los registros de servicios con más de 5 incidencias.\n2. Agrupar los registros por servicio.\n3. Calcular el total de incidencias para cada servicio.\n4. Filtrar los servicios que tengan un total de incidencias mayor a 5.\n5. Seleccionar los registros de incidencias para los servicios seleccionados.\n6. Agrupar los registros por servicio y incidencia.\n7. Calcular el tiempo de respuesta para cada incidencia.\n8. Filtrar las incidencias cuyo tiempo de respuesta excedió el tiempo acordado (SLA) en el último trimestre.\n9. Contar el número de incidencias filtradas para cada servicio.\n10. Ordenar los servicios por el número de incidencias filtradas en descenso.\n11. Seleccionar los servicios con el mayor número de incidencias filtradas.", "generated_sql": "WITH servicios_con_mas_incidencias AS (\n  SELECT\n    servicio,\n    COUNT(*) AS total_incidencias\n  FROM ft_tickets_ia\n  WHERE\n    fecha_registro >= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n    AND estatus_ticket = 'ATENDIDO'\n  GROUP BY\n    servicio\n  HAVING\n    total_incidencias > 5\n), incidencias_excedidas_sla AS (\n  SELECT\n    servicio,\n    folio_ticket,\n    fecha_cierre,\n    tiempo_solucion_total,\n    tiempo_sla_servicio\n  FROM ft_tickets_ia\n  JOIN servicios_con_mas_incidencias\n    ON ft_tickets_ia.servicio = servicios_con_mas_incidencias.servicio\n  WHERE\n    fecha_cierre >= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n    AND tiempo_solucion_total > tiempo_sla_servicio\n)\nSELECT\n  servicio,\n  COUNT(*) AS incidencias_excedidas_sla\nFROM incidencias_excedidas_sla\nGROUP BY\n  servicio\nORDER BY\n  incidencias_excedidas_sla DESC", "result": {"error": "error de sintaxis en o cerca de «MONTHS»\nLINE 7: ...>= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n                                                                 ^\n"}, "model": "mistral & gemma", "domain": "tickets", "duration": 24.73, "tags": []}
{"request_id": "9975acec-0ead-43b8-8f1c-a0a6a764b89b", "client_ip": "127.0.0.1", "timestamp": "2025-06-04T15:30:07.707763", "status": "fails", "original_question": "¿Qué servicios superaron el tiempo de SLA en más de 5 ocasiones en el último trimestre?", "enhanced_question": "¿Qué servicios tuvieron más de 5 incidencias en las que el tiempo de respuesta excedió el tiempo acordado (SLA) en el último trimestre? \n", "flow": "1. Seleccionar los registros de servicios con más de 5 incidencias.\n2. Agrupar los registros por servicio.\n3. Calcular el total de incidencias para cada servicio.\n4. Filtrar los servicios que tengan un total de incidencias mayor a 5.\n5. Seleccionar los registros de incidencias para los servicios seleccionados.\n6. Agrupar los registros por servicio y incidencia.\n7. Calcular el tiempo de respuesta para cada incidencia.\n8. Filtrar las incidencias cuyo tiempo de respuesta excedió el tiempo acordado (SLA) en el último trimestre.\n9. Contar el número de incidencias filtradas para cada servicio.\n10. Ordenar los servicios por el número de incidencias filtradas en descenso.\n11. Seleccionar los servicios con el mayor número de incidencias filtradas.", "generated_sql": "WITH servicios_con_mas_incidencias AS (\n  SELECT\n    servicio,\n    COUNT(*) AS total_incidencias\n  FROM ft_tickets_ia\n  WHERE\n    fecha_registro >= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n    AND estatus_ticket = 'ATENDIDO'\n  GROUP BY\n    servicio\n  HAVING\n    total_incidencias > 5\n), incidencias_excedidas_sla AS (\n  SELECT\n    servicio,\n    folio_ticket,\n    fecha_cierre,\n    tiempo_solucion_total,\n    tiempo_sla_servicio\n  FROM ft_tickets_ia\n  JOIN servicios_con_mas_incidencias\n    ON ft_tickets_ia.servicio = servicios_con_mas_incidencias.servicio\n  WHERE\n    fecha_cierre >= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n    AND tiempo_solucion_total > tiempo_sla_servicio\n)\nSELECT\n  servicio,\n  COUNT(*) AS incidencias_excedidas_sla\nFROM incidencias_excedidas_sla\nGROUP BY\n  servicio\nORDER BY\n  incidencias_excedidas_sla DESC", "result": {"error": "error de sintaxis en o cerca de «MONTHS»\nLINE 7: ...>= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n                                                                 ^\n"}, "model": "mistral & gemma", "domain": "tickets", "duration": 24.82, "tags": []}
{"request_id": "933c044d-c504-4d1d-99a4-0efddb3a0cb2", "client_ip": "127.0.0.1", "timestamp": "2025-06-04T15:34:32.172586", "status": "fails", "original_question": "¿Qué servicios superaron el tiempo de SLA en más de 5 ocasiones en el último trimestre?", "enhanced_question": "¿Qué servicios tuvieron más de 5 incidencias en las que el tiempo de respuesta excedió el tiempo acordado (SLA) en el último trimestre? \n", "flow": "1. Seleccionar los registros de servicios con más de 5 incidencias.\n2. Agrupar los registros por servicio.\n3. Calcular el total de incidencias para cada servicio.\n4. Filtrar los servicios que tengan un total de incidencias mayor a 5.\n5. Seleccionar los registros de incidencias para los servicios seleccionados.\n6. Agrupar los registros por servicio y incidencia.\n7. Calcular el tiempo de respuesta para cada incidencia.\n8. Filtrar las incidencias cuyo tiempo de respuesta excedió el tiempo acordado (SLA) en el último trimestre.\n9. Contar el número de incidencias filtradas para cada servicio.\n10. Ordenar los servicios por el número de incidencias filtradas en descenso.\n11. Seleccionar los servicios con el mayor número de incidencias filtradas.", "generated_sql": "WITH servicios_con_mas_incidencias AS (\n  SELECT\n    servicio,\n    COUNT(*) AS total_incidencias\n  FROM ft_tickets_ia\n  WHERE\n    fecha_registro >= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n    AND estatus_ticket = 'ATENDIDO'\n  GROUP BY\n    servicio\n  HAVING\n    total_incidencias > 5\n), incidencias_excedidas_sla AS (\n  SELECT\n    servicio,\n    folio_ticket,\n    fecha_cierre,\n    tiempo_solucion_total,\n    tiempo_sla_servicio\n  FROM ft_tickets_ia\n  JOIN servicios_con_mas_incidencias\n    ON ft_tickets_ia.servicio = servicios_con_mas_incidencias.servicio\n  WHERE\n    fecha_cierre >= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n    AND tiempo_solucion_total > tiempo_sla_servicio\n)\nSELECT\n  servicio,\n  COUNT(*) AS incidencias_excedidas_sla\nFROM incidencias_excedidas_sla\nGROUP BY\n  servicio\nORDER BY\n  incidencias_excedidas_sla DESC", "result": {"error": "error de sintaxis en o cerca de «MONTHS»\nLINE 7: ...>= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n                                                                 ^\n"}, "model": "mistral & gemma", "domain": "tickets", "duration": 24.74, "tags": []}
{"request_id": "58ab7dd1-e9d3-4676-a424-dd27a01dd2b3", "client_ip": "127.0.0.1", "timestamp": "2025-06-04T15:35:54.713470", "status": "fails", "original_question": "¿Qué servicios superaron el tiempo de SLA en más de 5 ocasiones en el último trimestre?", "enhanced_question": "¿Qué servicios tuvieron más de 5 incidencias en las que el tiempo de respuesta excedió el tiempo acordado (SLA) en el último trimestre? \n", "flow": "1. Seleccionar los registros de servicios con más de 5 incidencias.\n2. Agrupar los registros por servicio.\n3. Calcular el total de incidencias para cada servicio.\n4. Filtrar los servicios que tengan un total de incidencias mayor a 5.\n5. Seleccionar los registros de incidencias para los servicios seleccionados.\n6. Agrupar los registros por servicio y incidencia.\n7. Calcular el tiempo de respuesta para cada incidencia.\n8. Filtrar las incidencias cuyo tiempo de respuesta excedió el tiempo acordado (SLA) en el último trimestre.\n9. Contar el número de incidencias filtradas para cada servicio.\n10. Ordenar los servicios por el número de incidencias filtradas en descenso.\n11. Seleccionar los servicios con el mayor número de incidencias filtradas.", "generated_sql": "WITH servicios_con_mas_incidencias AS (\n  SELECT\n    servicio,\n    COUNT(*) AS total_incidencias\n  FROM ft_tickets_ia\n  WHERE\n    fecha_registro >= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n    AND estatus_ticket = 'ATENDIDO'\n  GROUP BY\n    servicio\n  HAVING\n    total_incidencias > 5\n), incidencias_excedidas_sla AS (\n  SELECT\n    servicio,\n    folio_ticket,\n    fecha_cierre,\n    tiempo_solucion_total,\n    tiempo_sla_servicio\n  FROM ft_tickets_ia\n  JOIN servicios_con_mas_incidencias\n    ON ft_tickets_ia.servicio = servicios_con_mas_incidencias.servicio\n  WHERE\n    fecha_cierre >= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n    AND tiempo_solucion_total > tiempo_sla_servicio\n)\nSELECT\n  servicio,\n  COUNT(*) AS incidencias_excedidas_sla\nFROM incidencias_excedidas_sla\nGROUP BY\n  servicio\nORDER BY\n  incidencias_excedidas_sla DESC", "result": {"error": "error de sintaxis en o cerca de «MONTHS»\nLINE 7: ...>= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n                                                                 ^\n"}, "model": "mistral & gemma", "domain": "tickets", "duration": 24.76, "tags": []}
{"request_id": "8f50e75e-10a8-4519-ad1e-0a077a59c1c2", "client_ip": "127.0.0.1", "timestamp": "2025-06-04T15:36:50.424221", "status": "fails", "original_question": "¿Qué servicios superaron el tiempo de SLA en más de 5 ocasiones en el último trimestre?", "enhanced_question": "¿Qué servicios tuvieron más de 5 incidencias en las que el tiempo de respuesta excedió el tiempo acordado (SLA) en el último trimestre? \n", "flow": "1. Seleccionar los registros de servicios con más de 5 incidencias.\n2. Agrupar los registros por servicio.\n3. Calcular el total de incidencias para cada servicio.\n4. Filtrar los servicios que tengan un total de incidencias mayor a 5.\n5. Seleccionar los registros de incidencias para los servicios seleccionados.\n6. Agrupar los registros por servicio y incidencia.\n7. Calcular el tiempo de respuesta para cada incidencia.\n8. Filtrar las incidencias cuyo tiempo de respuesta excedió el tiempo acordado (SLA) en el último trimestre.\n9. Contar el número de incidencias filtradas para cada servicio.\n10. Ordenar los servicios por el número de incidencias filtradas en descenso.\n11. Seleccionar los servicios con el mayor número de incidencias filtradas.", "generated_sql": "WITH servicios_con_mas_incidencias AS (\n  SELECT\n    servicio,\n    COUNT(*) AS total_incidencias\n  FROM ft_tickets_ia\n  WHERE\n    fecha_registro >= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n    AND estatus_ticket = 'ATENDIDO'\n  GROUP BY\n    servicio\n  HAVING\n    total_incidencias > 5\n), incidencias_excedidas_sla AS (\n  SELECT\n    servicio,\n    folio_ticket,\n    fecha_cierre,\n    tiempo_solucion_total,\n    tiempo_sla_servicio\n  FROM ft_tickets_ia\n  JOIN servicios_con_mas_incidencias\n    ON ft_tickets_ia.servicio = servicios_con_mas_incidencias.servicio\n  WHERE\n    fecha_cierre >= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n    AND tiempo_solucion_total > tiempo_sla_servicio\n)\nSELECT\n  servicio,\n  COUNT(*) AS incidencias_excedidas_sla\nFROM incidencias_excedidas_sla\nGROUP BY\n  servicio\nORDER BY\n  incidencias_excedidas_sla DESC", "result": {"error": "error de sintaxis en o cerca de «MONTHS»\nLINE 7: ...>= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n                                                                 ^\n"}, "model": "mistral & gemma", "domain": "tickets", "duration": 27.11, "tags": []}
{"request_id": "faf2fc66-aa85-4f87-beb5-cd0865348bb0", "client_ip": "127.0.0.1", "timestamp": "2025-06-04T15:56:34.397058", "status": "fails", "original_question": "¿Qué servicios superaron el tiempo de SLA en más de 5 ocasiones en el último trimestre?", "enhanced_question": "¿Qué servicios tuvieron más de 5 incidencias en las que el tiempo de respuesta excedió el tiempo acordado (SLA) en el último trimestre? \n", "flow": "1. Seleccionar los registros de servicios con más de 5 incidencias.\n2. Agrupar los registros por servicio.\n3. Calcular el total de incidencias para cada servicio.\n4. Filtrar los servicios que tengan un total de incidencias mayor a 5.\n5. Seleccionar los registros de incidencias para los servicios seleccionados.\n6. Agrupar los registros por servicio y incidencia.\n7. Calcular el tiempo de respuesta para cada incidencia.\n8. Filtrar las incidencias cuyo tiempo de respuesta excedió el tiempo acordado (SLA) en el último trimestre.\n9. Contar el número de incidencias filtradas para cada servicio.\n10. Ordenar los servicios por el número de incidencias filtradas en descenso.\n11. Seleccionar los servicios con el mayor número de incidencias filtradas.", "generated_sql": "WITH servicios_con_mas_incidencias AS (\n  SELECT\n    servicio,\n    COUNT(*) AS total_incidencias\n  FROM ft_tickets_ia\n  WHERE\n    fecha_registro >= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n    AND estatus_ticket = 'ATENDIDO'\n  GROUP BY\n    servicio\n  HAVING\n    total_incidencias > 5\n), incidencias_excedidas_sla AS (\n  SELECT\n    servicio,\n    folio_ticket,\n    fecha_cierre,\n    tiempo_solucion_total,\n    tiempo_sla_servicio\n  FROM ft_tickets_ia\n  JOIN servicios_con_mas_incidencias\n    ON ft_tickets_ia.servicio = servicios_con_mas_incidencias.servicio\n  WHERE\n    fecha_cierre >= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n    AND tiempo_solucion_total > tiempo_sla_servicio\n)\nSELECT\n  servicio,\n  COUNT(*) AS incidencias_excedidas_sla\nFROM incidencias_excedidas_sla\nGROUP BY\n  servicio\nORDER BY\n  incidencias_excedidas_sla DESC", "result": {"error": "error de sintaxis en o cerca de «MONTHS»\nLINE 7: ...>= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n                                                                 ^\n"}, "model": "mistral & gemma", "domain": "tickets", "duration": 24.78, "tags": []}
{"request_id": "259bde1d-e74b-42eb-851d-82a5a75a6627", "client_ip": "127.0.0.1", "timestamp": "2025-06-04T15:57:39.177690", "status": "fails", "original_question": "¿Qué servicios superaron el tiempo de SLA en más de 5 ocasiones en el último trimestre?", "enhanced_question": "¿Qué servicios tuvieron más de 5 incidencias en las que el tiempo de respuesta excedió el tiempo acordado (SLA) en el último trimestre? \n", "flow": "1. Seleccionar los registros de servicios con más de 5 incidencias.\n2. Agrupar los registros por servicio.\n3. Calcular el total de incidencias para cada servicio.\n4. Filtrar los servicios que tengan un total de incidencias mayor a 5.\n5. Seleccionar los registros de incidencias para los servicios seleccionados.\n6. Agrupar los registros por servicio y incidencia.\n7. Calcular el tiempo de respuesta para cada incidencia.\n8. Filtrar las incidencias cuyo tiempo de respuesta excedió el tiempo acordado (SLA) en el último trimestre.\n9. Contar el número de incidencias filtradas para cada servicio.\n10. Ordenar los servicios por el número de incidencias filtradas en descenso.\n11. Seleccionar los servicios con el mayor número de incidencias filtradas.", "generated_sql": "WITH servicios_con_mas_incidencias AS (\n  SELECT\n    servicio,\n    COUNT(*) AS total_incidencias\n  FROM ft_tickets_ia\n  WHERE\n    fecha_registro >= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n    AND estatus_ticket = 'ATENDIDO'\n  GROUP BY\n    servicio\n  HAVING\n    total_incidencias > 5\n), incidencias_excedidas_sla AS (\n  SELECT\n    servicio,\n    folio_ticket,\n    fecha_cierre,\n    tiempo_solucion_total,\n    tiempo_sla_servicio\n  FROM ft_tickets_ia\n  JOIN servicios_con_mas_incidencias\n    ON ft_tickets_ia.servicio = servicios_con_mas_incidencias.servicio\n  WHERE\n    fecha_cierre >= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n    AND tiempo_solucion_total > tiempo_sla_servicio\n)\nSELECT\n  servicio,\n  COUNT(*) AS incidencias_excedidas_sla\nFROM incidencias_excedidas_sla\nGROUP BY\n  servicio\nORDER BY\n  incidencias_excedidas_sla DESC", "result": {"error": "error de sintaxis en o cerca de «MONTHS»\nLINE 7: ...>= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n                                                                 ^\n"}, "model": "mistral & gemma", "domain": "tickets", "duration": 24.74, "tags": []}
{"request_id": "04a39540-79f8-40ab-b918-2fcc6d5293c5", "client_ip": "127.0.0.1", "timestamp": "2025-06-04T16:00:07.480268", "status": "fails", "original_question": "¿Qué servicios superaron el tiempo de SLA en más de 5 ocasiones en el último trimestre?", "enhanced_question": "¿Qué servicios tuvieron más de 5 incidencias en las que el tiempo de respuesta excedió el tiempo acordado (SLA) en el último trimestre? \n", "flow": "1. Seleccionar los registros de servicios con más de 5 incidencias.\n2. Agrupar los registros por servicio.\n3. Calcular el total de incidencias para cada servicio.\n4. Filtrar los servicios que tengan un total de incidencias mayor a 5.\n5. Seleccionar los registros de incidencias para los servicios seleccionados.\n6. Agrupar los registros por servicio y incidencia.\n7. Calcular el tiempo de respuesta para cada incidencia.\n8. Filtrar las incidencias cuyo tiempo de respuesta excedió el tiempo acordado (SLA) en el último trimestre.\n9. Contar el número de incidencias filtradas para cada servicio.\n10. Ordenar los servicios por el número de incidencias filtradas en descenso.\n11. Seleccionar los servicios con el mayor número de incidencias filtradas.", "generated_sql": "WITH servicios_con_mas_incidencias AS (\n  SELECT\n    servicio,\n    COUNT(*) AS total_incidencias\n  FROM ft_tickets_ia\n  WHERE\n    fecha_registro >= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n    AND estatus_ticket = 'ATENDIDO'\n  GROUP BY\n    servicio\n  HAVING\n    total_incidencias > 5\n), incidencias_excedidas_sla AS (\n  SELECT\n    servicio,\n    folio_ticket,\n    fecha_cierre,\n    tiempo_solucion_total,\n    tiempo_sla_servicio\n  FROM ft_tickets_ia\n  JOIN servicios_con_mas_incidencias\n    ON ft_tickets_ia.servicio = servicios_con_mas_incidencias.servicio\n  WHERE\n    fecha_cierre >= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n    AND tiempo_solucion_total > tiempo_sla_servicio\n)\nSELECT\n  servicio,\n  COUNT(*) AS incidencias_excedidas_sla\nFROM incidencias_excedidas_sla\nGROUP BY\n  servicio\nORDER BY\n  incidencias_excedidas_sla DESC", "result": {"error": "error de sintaxis en o cerca de «MONTHS»\nLINE 7: ...>= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n                                                                 ^\n"}, "model": "mistral & gemma", "domain": "tickets", "duration": 24.77, "tags": []}
{"request_id": "9f95b389-7ad8-426d-8bb4-f0747e1716ec", "client_ip": "127.0.0.1", "timestamp": "2025-06-04T16:01:12.495417", "status": "fails", "original_question": "¿Qué servicios superaron el tiempo de SLA en más de 5 ocasiones en el último trimestre?", "enhanced_question": "¿Qué servicios tuvieron más de 5 incidencias en las que el tiempo de respuesta excedió el tiempo acordado (SLA) en el último trimestre? \n", "flow": "1. Seleccionar los registros de servicios con más de 5 incidencias.\n2. Agrupar los registros por servicio.\n3. Calcular el total de incidencias para cada servicio.\n4. Filtrar los servicios que tengan un total de incidencias mayor a 5.\n5. Seleccionar los registros de incidencias para los servicios seleccionados.\n6. Agrupar los registros por servicio y incidencia.\n7. Calcular el tiempo de respuesta para cada incidencia.\n8. Filtrar las incidencias cuyo tiempo de respuesta excedió el tiempo acordado (SLA) en el último trimestre.\n9. Contar el número de incidencias filtradas para cada servicio.\n10. Ordenar los servicios por el número de incidencias filtradas en descenso.\n11. Seleccionar los servicios con el mayor número de incidencias filtradas.", "generated_sql": "WITH servicios_con_mas_incidencias AS (\n  SELECT\n    servicio,\n    COUNT(*) AS total_incidencias\n  FROM ft_tickets_ia\n  WHERE\n    fecha_registro >= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n    AND estatus_ticket = 'ATENDIDO'\n  GROUP BY\n    servicio\n  HAVING\n    total_incidencias > 5\n), incidencias_excedidas_sla AS (\n  SELECT\n    servicio,\n    folio_ticket,\n    fecha_cierre,\n    tiempo_solucion_total,\n    tiempo_sla_servicio\n  FROM ft_tickets_ia\n  JOIN servicios_con_mas_incidencias\n    ON ft_tickets_ia.servicio = servicios_con_mas_incidencias.servicio\n  WHERE\n    fecha_cierre >= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n    AND tiempo_solucion_total > tiempo_sla_servicio\n)\nSELECT\n  servicio,\n  COUNT(*) AS incidencias_excedidas_sla\nFROM incidencias_excedidas_sla\nGROUP BY\n  servicio\nORDER BY\n  incidencias_excedidas_sla DESC", "result": {"error": "error de sintaxis en o cerca de «MONTHS»\nLINE 7: ...>= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n                                                                 ^\n"}, "model": "mistral & gemma", "domain": "tickets", "duration": 25.08, "tags": []}
{"request_id": "b8ab57b9-27fd-4643-b6e8-db7f3a56eb93", "client_ip": "127.0.0.1", "timestamp": "2025-06-04T16:05:42.596517", "status": "fails", "original_question": "¿Qué servicios superaron el tiempo de SLA en más de 5 ocasiones en el último trimestre?", "enhanced_question": "¿Qué servicios tuvieron más de 5 incidencias en las que el tiempo de respuesta excedió el tiempo acordado (SLA) en el último trimestre? \n", "flow": "1. Seleccionar los registros de servicios con más de 5 incidencias.\n2. Agrupar los registros por servicio.\n3. Calcular el total de incidencias para cada servicio.\n4. Filtrar los servicios que tengan un total de incidencias mayor a 5.\n5. Seleccionar los registros de incidencias para los servicios seleccionados.\n6. Agrupar los registros por servicio y incidencia.\n7. Calcular el tiempo de respuesta para cada incidencia.\n8. Filtrar las incidencias cuyo tiempo de respuesta excedió el tiempo acordado (SLA) en el último trimestre.\n9. Contar el número de incidencias filtradas para cada servicio.\n10. Ordenar los servicios por el número de incidencias filtradas en descenso.\n11. Seleccionar los servicios con el mayor número de incidencias filtradas.", "generated_sql": "WITH servicios_con_mas_incidencias AS (\n  SELECT\n    servicio,\n    COUNT(*) AS total_incidencias\n  FROM ft_tickets_ia\n  WHERE\n    fecha_registro >= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n    AND estatus_ticket = 'ATENDIDO'\n  GROUP BY\n    servicio\n  HAVING\n    total_incidencias > 5\n), incidencias_excedidas_sla AS (\n  SELECT\n    servicio,\n    folio_ticket,\n    fecha_cierre,\n    tiempo_solucion_total,\n    tiempo_sla_servicio\n  FROM ft_tickets_ia\n  JOIN servicios_con_mas_incidencias\n    ON ft_tickets_ia.servicio = servicios_con_mas_incidencias.servicio\n  WHERE\n    fecha_cierre >= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n    AND tiempo_solucion_total > tiempo_sla_servicio\n)\nSELECT\n  servicio,\n  COUNT(*) AS incidencias_excedidas_sla\nFROM incidencias_excedidas_sla\nGROUP BY\n  servicio\nORDER BY\n  incidencias_excedidas_sla DESC", "result": {"error": "error de sintaxis en o cerca de «MONTHS»\nLINE 7: ...>= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n                                                                 ^\n"}, "model": "mistral & gemma", "domain": "tickets", "duration": 24.76, "tags": []}
{"request_id": "8aed292d-ea33-4cf7-9b83-e1279486c34a", "client_ip": "127.0.0.1", "timestamp": "2025-06-04T16:07:10.383301", "status": "fails", "original_question": "¿Qué servicios superaron el tiempo de SLA en más de 5 ocasiones en el último trimestre?", "enhanced_question": "¿Qué servicios tuvieron más de 5 incidencias en las que el tiempo de respuesta excedió el tiempo acordado (SLA) en el último trimestre? \n", "flow": "1. Seleccionar los registros de servicios con más de 5 incidencias.\n2. Agrupar los registros por servicio.\n3. Calcular el total de incidencias para cada servicio.\n4. Filtrar los servicios que tengan un total de incidencias mayor a 5.\n5. Seleccionar los registros de incidencias para los servicios seleccionados.\n6. Agrupar los registros por servicio y incidencia.\n7. Calcular el tiempo de respuesta para cada incidencia.\n8. Filtrar las incidencias cuyo tiempo de respuesta excedió el tiempo acordado (SLA) en el último trimestre.\n9. Contar el número de incidencias filtradas para cada servicio.\n10. Ordenar los servicios por el número de incidencias filtradas en descenso.\n11. Seleccionar los servicios con el mayor número de incidencias filtradas.", "generated_sql": "WITH servicios_con_mas_incidencias AS (\n  SELECT\n    servicio,\n    COUNT(*) AS total_incidencias\n  FROM ft_tickets_ia\n  WHERE\n    fecha_registro >= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n    AND estatus_ticket = 'ATENDIDO'\n  GROUP BY\n    servicio\n  HAVING\n    total_incidencias > 5\n), incidencias_excedidas_sla AS (\n  SELECT\n    servicio,\n    folio_ticket,\n    fecha_cierre,\n    tiempo_solucion_total,\n    tiempo_sla_servicio\n  FROM ft_tickets_ia\n  JOIN servicios_con_mas_incidencias\n    ON ft_tickets_ia.servicio = servicios_con_mas_incidencias.servicio\n  WHERE\n    fecha_cierre >= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n    AND tiempo_solucion_total > tiempo_sla_servicio\n)\nSELECT\n  servicio,\n  COUNT(*) AS incidencias_excedidas_sla\nFROM incidencias_excedidas_sla\nGROUP BY\n  servicio\nORDER BY\n  incidencias_excedidas_sla DESC", "result": {"error": "error de sintaxis en o cerca de «MONTHS»\nLINE 7: ...>= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n                                                                 ^\n"}, "model": "mistral & gemma", "domain": "tickets", "duration": 24.84, "tags": []}
{"request_id": "e858614f-6462-4bb5-b39e-add39cdf487c", "client_ip": "127.0.0.1", "timestamp": "2025-06-04T16:09:01.199118", "status": "fails", "original_question": "¿Qué servicios superaron el tiempo de SLA en más de 5 ocasiones en el último trimestre?", "enhanced_question": "¿Qué servicios tuvieron más de 5 incidencias en las que el tiempo de respuesta excedió el tiempo acordado (SLA) en el último trimestre? \n", "flow": "1. Seleccionar los registros de servicios con más de 5 incidencias.\n2. Agrupar los registros por servicio.\n3. Calcular el total de incidencias para cada servicio.\n4. Filtrar los servicios que tengan un total de incidencias mayor a 5.\n5. Seleccionar los registros de incidencias para los servicios seleccionados.\n6. Agrupar los registros por servicio y incidencia.\n7. Calcular el tiempo de respuesta para cada incidencia.\n8. Filtrar las incidencias cuyo tiempo de respuesta excedió el tiempo acordado (SLA) en el último trimestre.\n9. Contar el número de incidencias filtradas para cada servicio.\n10. Ordenar los servicios por el número de incidencias filtradas en descenso.\n11. Seleccionar los servicios con el mayor número de incidencias filtradas.", "generated_sql": "WITH servicios_con_mas_incidencias AS (\n  SELECT\n    servicio,\n    COUNT(*) AS total_incidencias\n  FROM ft_tickets_ia\n  WHERE\n    fecha_registro >= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n    AND estatus_ticket = 'ATENDIDO'\n  GROUP BY\n    servicio\n  HAVING\n    total_incidencias > 5\n), incidencias_excedidas_sla AS (\n  SELECT\n    servicio,\n    folio_ticket,\n    fecha_cierre,\n    tiempo_solucion_total,\n    tiempo_sla_servicio\n  FROM ft_tickets_ia\n  JOIN servicios_con_mas_incidencias\n    ON ft_tickets_ia.servicio = servicios_con_mas_incidencias.servicio\n  WHERE\n    fecha_cierre >= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n    AND tiempo_solucion_total > tiempo_sla_servicio\n)\nSELECT\n  servicio,\n  COUNT(*) AS incidencias_excedidas_sla\nFROM incidencias_excedidas_sla\nGROUP BY\n  servicio\nORDER BY\n  incidencias_excedidas_sla DESC", "result": {"error": "error de sintaxis en o cerca de «MONTHS»\nLINE 7: ...>= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n                                                                 ^\n"}, "model": "mistral & gemma", "domain": "tickets", "duration": 24.73, "tags": []}
{"request_id": "c149d616-8727-4a30-9fbe-54c2dfeaf4a3", "client_ip": "127.0.0.1", "timestamp": "2025-06-04T16:12:14.742558", "status": "fails", "original_question": "¿Qué servicios superaron el tiempo de SLA en más de 5 ocasiones en el último trimestre?", "enhanced_question": "", "flow": "", "generated_sql": "", "result": {"error": "sequence item 0: expected str instance, dict found"}, "model": "mistral & gemma", "domain": "tickets", "duration": 0, "tags": []}
{"request_id": "6badf5c4-ccdf-48fb-a5bd-66482ad0f30d", "client_ip": "127.0.0.1", "timestamp": "2025-06-04T16:13:43.928094", "status": "fails", "original_question": "¿Qué servicios superaron el tiempo de SLA en más de 5 ocasiones en el último trimestre?", "enhanced_question": "", "flow": "", "generated_sql": "", "result": {"error": "sequence item 0: expected str instance, dict found"}, "model": "mistral & gemma", "domain": "tickets", "duration": 0, "tags": []}
{"request_id": "489f0eaa-e5d2-412e-9e77-a00a2f3591e1", "client_ip": "127.0.0.1", "timestamp": "2025-06-04T16:22:13.910976", "status": "fails", "original_question": "¿Qué servicios superaron el tiempo de SLA en más de 5 ocasiones en el último trimestre?", "enhanced_question": "", "flow": "", "generated_sql": "", "result": {"error": "sequence item 0: expected str instance, dict found"}, "model": "mistral & gemma", "domain": "tickets", "duration": 0, "tags": []}
{"request_id": "8c047ebb-fe9f-47a4-80ea-abc1caf8758b", "client_ip": "127.0.0.1", "timestamp": "2025-06-04T16:26:40.088618", "status": "fails", "original_question": "¿Qué servicios superaron el tiempo de SLA en más de 5 ocasiones en el último trimestre?", "enhanced_question": "¿Qué servicios tuvieron más de 5 incidencias en las que el tiempo de respuesta excedió el tiempo acordado (SLA) en el último trimestre? \n", "flow": "1. Seleccionar los registros de servicios con más de 5 incidencias.\n2. Agrupar los registros por servicio.\n3. Calcular el total de incidencias para cada servicio.\n4. Filtrar los servicios que tengan un total de incidencias mayor a 5.\n5. Seleccionar los registros de incidencias para los servicios seleccionados.\n6. Agrupar los registros por servicio y incidencia.\n7. Calcular el tiempo de respuesta para cada incidencia.\n8. Filtrar las incidencias cuyo tiempo de respuesta excedió el tiempo acordado (SLA) en el último trimestre.\n9. Contar el número de incidencias filtradas para cada servicio.\n10. Ordenar los servicios por el número de incidencias filtradas en descenso.\n11. Seleccionar los servicios con el mayor número de incidencias filtradas.", "generated_sql": "WITH servicios_con_mas_incidencias AS (\n  SELECT\n    servicio,\n    COUNT(*) AS total_incidencias\n  FROM ft_tickets_ia\n  WHERE\n    fecha_registro >= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n    AND estatus_ticket = 'ATENDIDO'\n  GROUP BY\n    servicio\n  HAVING\n    total_incidencias > 5\n), incidencias_excedidas_sla AS (\n  SELECT\n    servicio,\n    folio_ticket,\n    fecha_cierre,\n    tiempo_solucion_total,\n    tiempo_sla_servicio\n  FROM ft_tickets_ia\n  JOIN servicios_con_mas_incidencias\n    ON ft_tickets_ia.servicio = servicios_con_mas_incidencias.servicio\n  WHERE\n    fecha_cierre >= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n    AND tiempo_solucion_total > tiempo_sla_servicio\n)\nSELECT\n  servicio,\n  COUNT(*) AS incidencias_excedidas_sla\nFROM incidencias_excedidas_sla\nGROUP BY\n  servicio\nORDER BY\n  incidencias_excedidas_sla DESC", "result": {"error": "error de sintaxis en o cerca de «MONTHS»\nLINE 7: ...>= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3' MONTHS\n                                                                 ^\n"}, "model": "mistral & gemma", "domain": "tickets", "duration": 24.77, "tags": []}
{"request_id": "5ec9810a-8c8f-438c-a429-8bcc876b1f96", "client_ip": "127.0.0.1", "timestamp": "2025-06-04T16:29:04.628795", "status": "fails", "original_question": "¿Qué servicios superaron el tiempo de SLA en más de 5 ocasiones en el último trimestre?", "enhanced_question": "", "flow": "", "generated_sql": "", "result": {"error": "sequence item 0: expected str instance, dict found"}, "model": "mistral & gemma", "domain": "tickets", "duration": 0, "tags": []}
{"request_id": "b2e3042e-37e7-410d-abca-9733ed427c62", "client_ip": "127.0.0.1", "timestamp": "2025-06-04T16:39:29.232324", "status": "fails", "original_question": "¿Qué servicios superaron el tiempo de SLA en más de 5 ocasiones en el último trimestre?", "enhanced_question": "", "flow": "", "generated_sql": "", "result": {"error": "❌ El SQL generado no pasó la validación sintáctica."}, "model": "mistral & gemma", "domain": "tickets", "duration": 0, "tags": []}
